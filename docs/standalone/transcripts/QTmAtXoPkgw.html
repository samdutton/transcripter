<!DOCTYPE html>

<!--
Copyright 2018 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="Chrome Dev Summit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QTmAtXoPkgw</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/QTmAtXoPkgw?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0" data-end="1.872">[MUSIC PLAYING]</span> </p>
</section>

<section>
<p><span data-start="7.02" data-end="9.12"><span class="speaker">Dan Dascalescu</span>: I'm here with Stephen Barber</span> <span data-start="9.12" data-end="10.507">who's an engineer on Chrome OS.</span> <span data-start="10.507" data-end="11.59">So good evening, everyone.</span> <span data-start="11.59" data-end="12.98">I'm Dan Dascalescu.</span> <span data-start="12.98" data-end="15.19">I'm a developer advocate at Google,</span> <span data-start="15.19" data-end="17.49">and tonight, we'd like to talk to you about why</span> <span data-start="17.49" data-end="21.87">Chrome OS is an awesome choice as a web developer platform.</span> <span data-start="21.87" data-end="24.24">And there are two main reasons for why you</span> <span data-start="24.24" data-end="26.01">should develop on Chrome OS.</span> <span data-start="26.01" data-end="29.79">The first is that Chrome OS is an unprecedented convergence</span> <span data-start="29.79" data-end="31.29">of technology stacks.</span> <span data-start="31.29" data-end="33.12">It brings together web applications</span> <span data-start="33.12" data-end="36.69">because it's an OS that has a browser as its UI,</span> <span data-start="36.69" data-end="38.924">but it can also run Android apps,</span> <span data-start="38.924" data-end="40.34">and with full Google Play support,</span> <span data-start="40.34" data-end="42.048">you can install Android browsers that you</span> <span data-start="42.048" data-end="43.97">can test your web apps on.</span> </p>
<p><span data-start="43.97" data-end="47.04">And starting with Chrome 69, you can install Linux</span> <span data-start="47.04" data-end="49.5">and you can run your familiar development to a workflow</span> <span data-start="49.5" data-end="51.72">there.</span> <span data-start="51.72" data-end="54.66">And this is a sneak preview of what's coming in the talk.</span> <span data-start="54.66" data-end="57.84">You can see here a terminal, an ID, a couple of browsers,</span> <span data-start="57.84" data-end="61.26">and, of course, a PWA.</span> <span data-start="61.26" data-end="64.019">So the second reason why you should develop on Chrome OS</span> <span data-start="64.019" data-end="66.15">and target Chrome OS is that it powers</span> <span data-start="66.15" data-end="68.5">a very wide variety of devices.</span> <span data-start="68.5" data-end="71.67">You might have seen Chrome OS laptops or Chromebooks</span> <span data-start="71.67" data-end="74.79">from a variety of manufacturers, and also, you</span> <span data-start="74.79" data-end="77.13">might have seen some convertibles, again,</span> <span data-start="77.13" data-end="80.64">from various manufacturers, and those all-in-ones,</span> <span data-start="80.64" data-end="82.65">like the LG Chromebase.</span> <span data-start="82.65" data-end="85.71">And the small form factor PCs — </span> <span data-start="85.71" data-end="89.73">this is the Chromebox, which was built by Samsung — </span> <span data-start="89.73" data-end="90.48">2012.</span> </p>
<p><span data-start="90.48" data-end="94.5">And then HP, Asus, and other manufacturers followed suit.</span> <span data-start="94.5" data-end="98.67">And this is the mini form factor PC.</span> <span data-start="98.67" data-end="99.81">It weighs 3 ounces.</span> <span data-start="99.81" data-end="102.637">You plug it into the HDMI port of a display,</span> <span data-start="102.637" data-end="104.22">and it turns that one into a computer.</span> <span data-start="104.22" data-end="109.2">You can attach a mouse or a keyboard via USB or Bluetooth.</span> <span data-start="109.2" data-end="111.576">And then there are mega displays.</span> <span data-start="111.576" data-end="112.95">This is the Chromebox Commercial.</span> <span data-start="112.95" data-end="116.61">It powers digital signage or kiosk displays.</span> <span data-start="116.61" data-end="118.53">And this summer, we saw the first tablet</span> <span data-start="118.53" data-end="120.27">powered by Chrome OS.</span> <span data-start="120.27" data-end="122.4">This is the Acer Chrome Tab 10.</span> <span data-start="122.4" data-end="125.968">And of course, Google has our own lineage of devices.</span> <span data-start="125.968" data-end="128.009">This is the Pixelbook, the flagship device, which</span> <span data-start="128.009" data-end="130.32">is at 75% off for you guys.</span> <span data-start="133.21" data-end="134.97">Yeah.</span> </p>
<p><span data-start="134.97" data-end="137.79">And our latest offering, the Pixel Slate,</span> <span data-start="137.79" data-end="141.25">which was announced last month.</span> <span data-start="141.25" data-end="143.45">So in one slide, why target Chrome OS?</span> <span data-start="143.45" data-end="145.89">Because of a large and increasing market share,</span> <span data-start="145.89" data-end="150.12">you probably heard that we have a very extensive presence</span> <span data-start="150.12" data-end="151.05">in the EDU space.</span> <span data-start="151.05" data-end="153.51">Chromebooks are very popular there.</span> <span data-start="153.51" data-end="155.07">Then if you optimize for Chrome OS,</span> <span data-start="155.07" data-end="158.34">you'll actually target a variety of these convertible form</span> <span data-start="158.34" data-end="161.91">factors —  devices that have or have not</span> <span data-start="161.91" data-end="166.18">got a keyboard or a mouse or a stylus or even a touch screen.</span> <span data-start="166.18" data-end="169.92">So this could also future proof you from devices</span> <span data-start="169.92" data-end="172.06">that haven't been invented yet.</span> <span data-start="172.06" data-end="174.09">Though after I put this slide together,</span> </p>
<p><span data-start="174.09" data-end="177.72">Samsung actually released a foldable screen phone</span> <span data-start="177.72" data-end="179.31">that becomes a tablet.</span> <span data-start="179.31" data-end="181.02">So the future is here already.</span> <span data-start="183.61" data-end="186.66">So again, in one slide, the reason is diversity.</span> <span data-start="186.66" data-end="188.94">You can develop apps on Linux and test them</span> <span data-start="188.94" data-end="192.63">on a variety of Android and Linux browsers.</span> </p>
<p><span data-start="192.63" data-end="194.724">So Chrome OS brings together your own development</span> <span data-start="194.724" data-end="196.14">workflow —  the one you're familiar</span> <span data-start="196.14" data-end="198.34">with —  your own development tools,</span> <span data-start="198.34" data-end="200.7">a variety of form factors, from mobile to tablet</span> <span data-start="200.7" data-end="207.16">to convertible to desktop, and browsers on Android and Linux.</span> <span data-start="207.16" data-end="208.95">And there are quite a few of them — </span> <span data-start="208.95" data-end="212.34">Edge and Samsung Internet work on the Pixel Slate.</span> <span data-start="212.34" data-end="215.19">The others should be able to be installed on Google Pixel,</span> <span data-start="215.19" data-end="216.78">as well.</span> </p>
<p><span data-start="216.78" data-end="221.92">And this is Edge and UC browser and Firefox running</span> <span data-start="221.92" data-end="224.13">on the same Chrome OS machine.</span> <span data-start="224.13" data-end="227.38">Then you can install some desktop browsers,</span> <span data-start="227.38" data-end="229.68">so you can test, in full desktop, Firefox,</span> <span data-start="229.68" data-end="233.08">if you install the Linux version of it.</span> <span data-start="233.08" data-end="235.91">This is Firefox and this is Epiphany, a.k.a.</span> <span data-start="235.91" data-end="237.24">GNOME Web.</span> <span data-start="237.24" data-end="241.37">And you can also install Docker, which, I've heard, many of you</span> <span data-start="241.37" data-end="243.82">are interested during the forum.</span> </p>
<p><span data-start="243.82" data-end="245.38">This is unofficial support for it,</span> <span data-start="245.38" data-end="247.68">but there is a thread on Reddit if you</span> <span data-start="247.68" data-end="253.45">search for Docker now working in the [INAUDIBLE] sub-reddit.</span> <span data-start="253.45" data-end="255.71">You'll find this thread.</span> <span data-start="255.71" data-end="258.7">Try at your own risk, but it does work.</span> <span data-start="258.7" data-end="259.709">So how does it work?</span> <span data-start="259.709" data-end="262.05">How does Chrome OS manage to stick</span> <span data-start="262.05" data-end="265.71">to its principles, which are speed, simplicity,</span> <span data-start="265.71" data-end="266.95">and security?</span> </p>
<p><span data-start="266.95" data-end="269.28">How can it run all these different web apps</span> <span data-start="269.28" data-end="273.42">and Android apps from Play and Linux apps like GIMP</span> <span data-start="273.42" data-end="276.6">while staying fast, simple, and secure?</span> <span data-start="276.6" data-end="279.33">This boils down to the containers architecture,</span> <span data-start="279.33" data-end="282.456">which I'll let Steve tell you more about.</span> </p>
</section>

<section>
<p><span data-start="282.456" data-end="284.04"><span class="speaker">Stephen Barber</span>: Thanks, Dan.</span> <span data-start="284.04" data-end="287.48">So when we were bringing Linux apps to Chrome OS,</span> <span data-start="287.48" data-end="290.76">it was really important that we maintain all of the things that</span> <span data-start="290.76" data-end="293.25">make Chrome OS Chrome OS.</span> <span data-start="293.25" data-end="295.29">So simplicity was first.</span> <span data-start="295.29" data-end="298.05">It shouldn't feel like you're running a separate OS,</span> <span data-start="298.05" data-end="301.28">but instead, have the Linux terminal and GUI app</span> <span data-start="301.28" data-end="304.87">seamlessly blend in with Chrome and Android apps.</span> <span data-start="304.87" data-end="308.26">And we've managed to do this while keeping things fast.</span> <span data-start="308.26" data-end="312.6">So Android and Linux support don't do any emulation.</span> <span data-start="312.6" data-end="315.24">By using lightweight containers and hardware virtualization</span> <span data-start="315.24" data-end="318.54">support, your code will run natively.</span> </p>
<p><span data-start="318.54" data-end="319.98">And of course, security is always</span> <span data-start="319.98" data-end="321.48">on the mind for Chrome OS.</span> <span data-start="321.48" data-end="324.66">So Crostini uses both virtualization and containers</span> <span data-start="324.66" data-end="326.28">to provide security in depth.</span> </p>
<p><span data-start="329.87" data-end="331.91">So to expand a bit on security, we're</span> <span data-start="331.91" data-end="334.07">starting from a secure foundation</span> <span data-start="334.07" data-end="336.9">and we're working our way up with features from there.</span> <span data-start="336.9" data-end="339.05">So right now, Linux is pretty isolated</span> <span data-start="339.05" data-end="341.69">from the rest of Chrome OS, but we're working on the ability</span> <span data-start="341.69" data-end="345.08">to share files and folders with it,</span> <span data-start="345.08" data-end="347.72">and soon, we'll be adding support for Google Drive,</span> <span data-start="347.72" data-end="348.334">as well.</span> </p>
<p><span data-start="348.334" data-end="350.75">So you'll be able to keep all of your dot files, projects,</span> <span data-start="350.75" data-end="355.35">and other important work safe in the cloud.</span> <span data-start="355.35" data-end="357.759">So let's take a look under the hood real quick.</span> <span data-start="357.759" data-end="360.05">The first time you launch a Linux app after logging in,</span> <span data-start="360.05" data-end="363.39">it will start up a lightweight VM and container.</span> <span data-start="363.39" data-end="367.1">So this VM is actually providing the outer security boundary</span> <span data-start="367.1" data-end="369.93">and gives you a real Linux kernel.</span> </p>
<p><span data-start="369.93" data-end="372.27">And it's actually a minimal version</span> <span data-start="372.27" data-end="376.61">of Chrome OS that was designed specifically to run containers.</span> <span data-start="376.61" data-end="380.31">And the container inside is where you do all of your work.</span> <span data-start="380.31" data-end="382.035">This container is very tightly integrated</span> <span data-start="382.035" data-end="383.16">with the rest of Chrome OS.</span> <span data-start="383.16" data-end="386.19">So things like launcher icons and graphical apps</span> <span data-start="386.19" data-end="389.514">work just like any other Chrome OS or Android app.</span> <span data-start="389.514" data-end="391.18">And the most important thing, of course,</span> <span data-start="391.18" data-end="392.415">is that you get a terminal.</span> <span data-start="394.925" data-end="397.33">So how does it actually feel?</span> <span data-start="397.33" data-end="398.43">What's it like?</span> <span data-start="398.43" data-end="402.76">And the answer should be, like most other Linux systems.</span> <span data-start="402.76" data-end="406.57">So Crostini is based right now on Debian stable</span> <span data-start="406.57" data-end="409.63">because a lot of developers are familiar with apped package</span> <span data-start="409.63" data-end="413.95">management and Debian-based systems.</span> </p>
<p><span data-start="413.95" data-end="418.63">And for now, we're starting out targeting web developers</span> <span data-start="418.63" data-end="421.33">because Chrome OS is a web-based OS,</span> <span data-start="421.33" data-end="423.22">and we think it's appropriate that you</span> <span data-start="423.22" data-end="428.23">should be able to develop web apps on a web-based OS.</span> <span data-start="428.23" data-end="431.08">So to do this, we provide some nice integration features.</span> <span data-start="431.08" data-end="433.06">Right now, we'll do port forwarding.</span> <span data-start="433.06" data-end="436.03">It doesn't seem like you're running a container.</span> <span data-start="436.03" data-end="439.19">You get local hosts to connect to,</span> <span data-start="439.19" data-end="443.431">and that's treated as a secure origin, just like it should be.</span> <span data-start="443.431" data-end="445.18">But if you do want to treat your container</span> <span data-start="445.18" data-end="446.68">like a separate system, you can.</span> </p>
<p><span data-start="446.68" data-end="452.24">And we provide a penguin.linux.test DNS alias.</span> <span data-start="452.24" data-end="454.16">And we do want to support more developer</span> <span data-start="454.16" data-end="455.94">workflows than just the web.</span> <span data-start="455.94" data-end="459.65">So we will be adding USB, GPU, audio support,</span> <span data-start="459.65" data-end="462.38">file systems and user space, and better file</span> <span data-start="462.38" data-end="464.63">sharing in upcoming releases.</span> <span data-start="464.63" data-end="467.18">And now, Dan will talk a bit more about using Chromebooks</span> <span data-start="467.18" data-end="468.679">for web development and show us what</span> <span data-start="468.679" data-end="470.005">Crostini looks like in action.</span> </p>
</section>

<section>
<p><span data-start="470.005" data-end="471.38"><span class="speaker">Dan Dascalescu</span>: Thank you, Steve.</span> <span data-start="474.47" data-end="476.249">So we know how it works.</span> <span data-start="476.249" data-end="477.29">We know why it's awesome.</span> <span data-start="477.29" data-end="482.39">Let's see how to actually use it for developing web apps.</span> <span data-start="482.39" data-end="486.05">The goal is to let developers do everything they need locally,</span> <span data-start="486.05" data-end="488.15">and the Crostini support is still in development,</span> <span data-start="488.15" data-end="491.12">but most things work as expected.</span> <span data-start="491.12" data-end="494.75">You can run editors, IDs, databases like Mongo or MySQL,</span> <span data-start="494.75" data-end="497.27">local servers, and pretty much anything</span> <span data-start="497.27" data-end="500.27">you can install with apt.</span> <span data-start="500.27" data-end="504.05">To setup Crostini, search for Linux in Settings,</span> <span data-start="504.05" data-end="505.67">and then you'll see this dialogue.</span> </p>
<p><span data-start="505.67" data-end="508.156">Once you tap Install, in about a minute or two,</span> <span data-start="508.156" data-end="509.78">depending on your network speed, you'll</span> <span data-start="509.78" data-end="512.84">have Linux installed on your Chromebook.</span> <span data-start="512.84" data-end="514.679">And this is a terminal.</span> <span data-start="514.679" data-end="515.62">So we have a terminal.</span> </p>
<p><span data-start="515.62" data-end="516.12">Woo-hoo.</span> <span data-start="516.12" data-end="519.919">Let's build a desktop web app for Pixelbooks, right?</span> <span data-start="519.919" data-end="522.98">A bit about how these apps are usually built.</span> <span data-start="522.98" data-end="524.69">A lot of development of desktop dev apps</span> <span data-start="524.69" data-end="526.97">is done with Electron or Node-Webkit.</span> <span data-start="526.97" data-end="528.92">But the problem with that is Electron</span> <span data-start="528.92" data-end="530.49">means Chromium plus Node.</span> <span data-start="530.49" data-end="533.18">So you ship a rendering stack along with your app.</span> </p>
<p><span data-start="533.18" data-end="537.71">And that might be useful if you have needs for low level</span> <span data-start="537.71" data-end="539.54">access, but consider Carlo, which</span> <span data-start="539.54" data-end="543.74">is a Google project that is essentially a helpful Node app</span> <span data-start="543.74" data-end="544.615">framework.</span> <span data-start="544.615" data-end="548.75">It provides applications with Chrome rendering capabilities.</span> <span data-start="548.75" data-end="551.745">So with Carlo, you don't have to ship Chromium or any rendering</span> <span data-start="551.745" data-end="552.62">engine with your app.</span> <span data-start="552.62" data-end="555.47">It uses a locally detected instance of Chrome</span> <span data-start="555.47" data-end="557.57">and it connects to your process pipe,</span> <span data-start="557.57" data-end="559.52">and then exposes the high level API for you</span> <span data-start="559.52" data-end="564.14">to render in Chrome from your Node script.</span> <span data-start="564.14" data-end="567.17">But if you don't need all these low level OS features,</span> <span data-start="567.17" data-end="568.65">you can do something even simpler,</span> <span data-start="568.65" data-end="572.09">which is to build a progressive web app.</span> </p>
<p><span data-start="572.09" data-end="573.99">This is what Spotify has done.</span> <span data-start="573.99" data-end="577.34">You can see here that I'm going to open the Spotify</span> <span data-start="577.34" data-end="580.38">[INAUDIBLE] tab and click that Install App button.</span> <span data-start="580.38" data-end="582.47">And once I accept the install prompt,</span> <span data-start="582.47" data-end="585.94">the tab becomes a PWA without a URL bar,</span> <span data-start="585.94" data-end="588.62">and it has its own buttons, like Close.</span> <span data-start="588.62" data-end="591.14">And you can find it in the shelf.</span> <span data-start="591.14" data-end="593.4">You can launch it from there.</span> <span data-start="593.4" data-end="596.18">And once you launch it, there is no more Install App button</span> <span data-start="596.18" data-end="598.9">because it's an installed progressive web app.</span> </p>
<p><span data-start="598.9" data-end="601.94">And it's also accessible from the shelf.</span> <span data-start="601.94" data-end="604.13">So these system level integration features</span> <span data-start="604.13" data-end="606.92">are provided by Chrome, and they are</span> <span data-start="606.92" data-end="609.77">available on Chrome OS since Chrome 67,</span> <span data-start="609.77" data-end="611.6">which is ancient by now.</span> <span data-start="611.6" data-end="614.3">And on Linux, on Windows, starting with Chrome 70,</span> <span data-start="614.3" data-end="615.71">the current version stable.</span> <span data-start="615.71" data-end="617.873">And on Mac with Chrome 72, or if you</span> <span data-start="617.873" data-end="621.77">want to give it a sneak peak, check the Enable Desktop PWAs</span> <span data-start="621.77" data-end="624.32">flag.</span> </p>
<p><span data-start="624.32" data-end="626.54">This is thanks to service worker support,</span> <span data-start="626.54" data-end="629.33">which has been implemented by all major browsers,</span> <span data-start="629.33" data-end="631.91">and they are also working on advanced features,</span> <span data-start="631.91" data-end="634.22">such as [INAUDIBLE] request.</span> <span data-start="634.22" data-end="635.92">Firefox is working on that.</span> <span data-start="635.92" data-end="638.93">It has special [INAUDIBLE] and at the home screen now.</span> </p>
<p><span data-start="638.93" data-end="641.96">And Safari is also working on authentication APIs.</span> <span data-start="645.42" data-end="646.14">So OK.</span> <span data-start="646.14" data-end="646.95">We've talked a lot.</span> <span data-start="646.95" data-end="651.027">Let's try and do a demo and see if anything blows up.</span> <span data-start="651.027" data-end="652.86">So I've set up Crostini already because that</span> <span data-start="652.86" data-end="654.985">will take two minutes, which I don't want to waste.</span> <span data-start="654.985" data-end="657.93">We're going to install Node, which I have already — </span> <span data-start="657.93" data-end="659.376">VS Code NPM.</span> <span data-start="659.376" data-end="660.75">And then we'll check our Squoosh.</span> <span data-start="660.75" data-end="663.03">You might have seen it in one of the earlier talks.</span> <span data-start="663.03" data-end="664.915">It's an image compression app.</span> <span data-start="664.915" data-end="666.54">We'll open that in VS Code to check out</span> <span data-start="666.54" data-end="669.57">the code around the web server, and the most interesting part</span> <span data-start="669.57" data-end="672">is we're going to open Squoosh from an Android browser</span> <span data-start="672" data-end="674.52">on the very same device.</span> </p>
<p><span data-start="674.52" data-end="676.69">And if things work, we're also going</span> <span data-start="676.69" data-end="679.46">to do some remote debugging.</span> <span data-start="679.46" data-end="681.98">So these are the instructions to install Node.</span> <span data-start="681.98" data-end="684.8">I've already run them because it takes a bit.</span> <span data-start="684.8" data-end="689.54">And I've switched to the demonstration.</span> <span data-start="689.54" data-end="691.4">I'm going to run the NPM install.</span> <span data-start="691.4" data-end="692.92">NPM build does take awhile.</span> <span data-start="692.92" data-end="697.42">Then, NPM start to start the web server for the Squoosh app.</span> <span data-start="697.42" data-end="699.89">And you see that it tells you it runs at 8080.</span> <span data-start="699.89" data-end="703.35">It bounds to all local addresses.</span> </p>
<p><span data-start="703.35" data-end="706.64">So let's run Chromium for Linux.</span> <span data-start="706.64" data-end="709.82">This runs in the Linux container.</span> <span data-start="709.82" data-end="712.85">And once Squoosh has started, which seems to be the case,</span> <span data-start="712.85" data-end="715.88">let's go to a local host 8080.</span> <span data-start="715.88" data-end="718.03">And there is Squoosh.</span> <span data-start="718.03" data-end="720.62">I'm not sure why it said failed.</span> <span data-start="720.62" data-end="722.24">But it certainly works.</span> <span data-start="722.24" data-end="725.549">You can open images or not.</span> <span data-start="725.549" data-end="726.84">This is a live demo, after all.</span> <span data-start="726.84" data-end="730.291">[LAUGHTER]</span> </p>
<p><span data-start="732.76" data-end="735.07">The point here is that you have access</span> <span data-start="735.07" data-end="737.77">to a local host from the Linux container,</span> <span data-start="737.77" data-end="743.645">and now, let's try running Chrome Dev from Play.</span> <span data-start="743.645" data-end="745.02">And then choosing Chrome Dev here</span> <span data-start="745.02" data-end="748.76">to be able to distinguish the icons.</span> <span data-start="748.76" data-end="750.379">It looks like we need to update it.</span> <span data-start="750.379" data-end="752.17">Hopefully, the update won't break anything.</span> <span data-start="752.17" data-end="757.33">[LAUGHTER]</span> <span data-start="757.33" data-end="760.361">So I'm going to launch it before it gets a chance to update.</span> <span data-start="760.361" data-end="760.86">Now — </span> <span data-start="760.86" data-end="762.756">[LAUGHTER]</span> <span data-start="765.6" data-end="767.94">Local host here will not work.</span> </p>
<p><span data-start="767.94" data-end="768.99">That's a known issue.</span> <span data-start="768.99" data-end="772.09">Steve is working on it.</span> <span data-start="772.09" data-end="773.96">We need to get — </span> <span data-start="773.96" data-end="776.58">didn't mean to put you on the spot, Steve.</span> <span data-start="776.58" data-end="781.02">We need to get the IP address of the Android container, which</span> <span data-start="781.02" data-end="782.16">is this one.</span> <span data-start="782.16" data-end="784.65">There is this command, IP Address Show,</span> <span data-start="784.65" data-end="786.58">which has a long ass output.</span> <span data-start="786.58" data-end="791.73">So I'm going to just copy that and paste it</span> <span data-start="791.73" data-end="797.271">in Chrome Dev, which I thought I launched somewhere.</span> </p>
</section>

<section>
<p><span data-start="797.271" data-end="799.39"><span class="speaker">Stephen Barber</span>: It quit because it updated.</span> </p>
</section>

<section>
<p><span data-start="799.39" data-end="800.33"><span class="speaker">Dan Dascalescu</span>: OK.</span> <span data-start="800.33" data-end="801.913">Well, I hope it didn't break anything.</span> <span data-start="805.43" data-end="807.44">Colon.</span> <span data-start="807.44" data-end="808.854">Whoa.</span> <span data-start="808.854" data-end="810.842">[APPLAUSE]</span> <span data-start="814.82" data-end="816.89">So this is Squoosh running in Chrome,</span> <span data-start="816.89" data-end="818.96">and now, let's try something even more dangerous.</span> <span data-start="818.96" data-end="823.595">Let's try to remote debug it with Chromium.</span> <span data-start="823.595" data-end="824.47">On the same machine — </span> </p>
<p><span data-start="824.47" data-end="825.62">I know it's called remote debugging,</span> <span data-start="825.62" data-end="827.37">but it's on the same machine because these</span> <span data-start="827.37" data-end="829.23">are different containers.</span> <span data-start="829.23" data-end="833.49">So to do that, we need to put a device in developer mode,</span> <span data-start="833.49" data-end="835.62">and then enable it to be debugging here,</span> <span data-start="835.62" data-end="836.66">which I've done.</span> <span data-start="836.66" data-end="839.27">And then we need to run this command.</span> <span data-start="839.27" data-end="843.32">That fixed IP is actually documented on our Android setup</span> <span data-start="843.32" data-end="844.53">page.</span> <span data-start="844.53" data-end="848.9">It's the IP of our container, and we set up an ADB bridge</span> <span data-start="848.9" data-end="849.9">to it.</span> <span data-start="849.9" data-end="854.22">So now, if things are on my side,</span> <span data-start="854.22" data-end="859.34">we'll be able to go to Chrome Inspect</span> <span data-start="859.34" data-end="861.2">and see a number of remote targets here.</span> </p>
<p><span data-start="861.2" data-end="865.117">And we actually see two of them, so let's open the Squoosh one,</span> <span data-start="865.117" data-end="866.075">and I'll click Inspect.</span> <span data-start="868.86" data-end="873.512">And this appears to work surprisingly well, for a demo.</span> <span data-start="873.512" data-end="875.22">So I'm going to resize the window</span> <span data-start="875.22" data-end="877.477">and try something really spectacular.</span> <span data-start="877.477" data-end="878.31">I'm going to scroll.</span> <span data-start="881.25" data-end="884.07">So this is live, not an animated GIF.</span> <span data-start="884.07" data-end="887.31">This is actually remote debugging,</span> <span data-start="887.31" data-end="891.6">and whatever I'm doing here, whether this app works or not,</span> <span data-start="891.6" data-end="896.4">you can actually remote debug it with Chromium or Linux,</span> <span data-start="896.4" data-end="900.34">debugging an Android browser running your progressive web</span> <span data-start="900.34" data-end="900.84">app.</span> <span data-start="900.84" data-end="901.715">Does that make sense?</span> </p>
<p><span data-start="906.03" data-end="907.757">This is what I wanted to show, and let's</span> <span data-start="907.757" data-end="908.715">get back to the slides.</span> <span data-start="913.507" data-end="915.59">So these are the instructions for installing Node.</span> <span data-start="915.59" data-end="917.09">There's nothing special here.</span> <span data-start="917.09" data-end="920.39">You follow what Node publishes on their GitHub,</span> <span data-start="920.39" data-end="922.19">then you check out Squoosh using Git.</span> <span data-start="922.19" data-end="925.47">Again, your usual development workflow.</span> </p>
<p><span data-start="925.47" data-end="926.84">And oh, something else.</span> <span data-start="926.84" data-end="930.05">Maybe Steve wants to show this.</span> <span data-start="930.05" data-end="933.47">We can run VS Code to check out the code,</span> <span data-start="933.47" data-end="936.48">so until we switch to the demo, this screenshot</span> <span data-start="936.48" data-end="939.05">shows what we actually are going to do.</span> <span data-start="939.05" data-end="939.88">But great.</span> <span data-start="939.88" data-end="941.09">And I'll do it live now.</span> </p>
<p><span data-start="941.09" data-end="944.03">So Steve is going to double tap that after he copies it</span> <span data-start="944.03" data-end="945.86">to the Linux container.</span> <span data-start="945.86" data-end="950.24">And in the Linux container, if you double tap a dev file,</span> <span data-start="950.24" data-end="953.2">you are prompted to install it as a Linux app.</span> <span data-start="953.2" data-end="955.78">So Chrome OS supports that out of the box,</span> <span data-start="955.78" data-end="958.21">and once the installation completes,</span> <span data-start="958.21" data-end="962.14">you should be able to see visual code in the launcher.</span> <span data-start="962.14" data-end="964.03">And even that installation prompt will say</span> <span data-start="964.03" data-end="966.38">Find Visual Code in the Launcher.</span> <span data-start="966.38" data-end="968.04">And this is not network dependent,</span> <span data-start="968.04" data-end="971.192">so we should be as fast as it was when we rehearsed.</span> <span data-start="974.055" data-end="977.21">Though 58% is not terribly fast.</span> <span data-start="977.21" data-end="978.15">OK, 91.</span> <span data-start="978.15" data-end="978.765">Cool.</span> <span data-start="978.765" data-end="980.857">So show us some code, Steve.</span> </p>
</section>

<section>
<p><span data-start="980.857" data-end="981.94"><span class="speaker">Stephen Barber</span>: All right.</span> <span data-start="981.94" data-end="985.47">Wait one second or two seconds.</span> <span data-start="989.91" data-end="990.67">There it is.</span> <span data-start="990.67" data-end="991.78">Had to search.</span> <span data-start="991.78" data-end="995.15">And here we go.</span> <span data-start="995.15" data-end="996.162">VS Code.</span> <span data-start="996.162" data-end="998.13">[APPLAUSE]</span> </p>
</section>

<section>
<p><span data-start="1003.545" data-end="1004.42"><span class="speaker">Dan Dascalescu</span>: Yeah.</span> <span data-start="1004.42" data-end="1005.17">I have a manifest.</span> <span data-start="1005.17" data-end="1008.29">That's why it's a progressive app —  has a start URL.</span> <span data-start="1008.29" data-end="1012.94">OK, so let's switch back to the slides for some best practices</span> <span data-start="1012.94" data-end="1013.841">for — </span> <span data-start="1013.841" data-end="1014.34">oh, no.</span> <span data-start="1014.34" data-end="1016.2">Let's actually look at this once more.</span> <span data-start="1016.2" data-end="1022.71">It's really cool, right, how you can drag those in sync, yeah?</span> <span data-start="1022.71" data-end="1023.98">I had to brag about that.</span> <span data-start="1023.98" data-end="1026.369">So the way to set this up is not trivial,</span> <span data-start="1026.369" data-end="1029.75">which is why I posted the Medium post this morning</span> <span data-start="1029.75" data-end="1031.68">with complete instructions.</span> <span data-start="1031.68" data-end="1035.94">There's about 17 steps you need to follow.</span> <span data-start="1035.94" data-end="1042.03">So check out the bit.li/cros-remote-debug</span> <span data-start="1042.03" data-end="1044.079">or take a picture of this slide.</span> </p>
<p><span data-start="1044.079" data-end="1046.859">OK, I see the phones down, so next.</span> <span data-start="1046.859" data-end="1049.59">How to actually optimize PWAs for Chrome OS,</span> <span data-start="1049.59" data-end="1052.08">which is not really a topic.</span> <span data-start="1052.08" data-end="1053.46">It's more of a non-topic.</span> <span data-start="1053.46" data-end="1056.76">You shouldn't detect that you're running on Chrome OS.</span> <span data-start="1056.76" data-end="1059.012">You should use Lighthouse as you use for any PWA.</span> <span data-start="1059.012" data-end="1060.72">So if you only have five minutes to spend</span> <span data-start="1060.72" data-end="1062.1">on optimizing your app, check out</span> <span data-start="1062.1" data-end="1064.17">Lighthouse, the auditing tool that will give you</span> <span data-start="1064.17" data-end="1067.26">a checklist of what to do.</span> </p>
<p><span data-start="1067.26" data-end="1069.36">And make sure that your app installs.</span> <span data-start="1069.36" data-end="1072.13">This is one bit that might be different on Chrome OS.</span> <span data-start="1072.13" data-end="1075.06">Unlike on older versions of Chrome on mobile,</span> <span data-start="1075.06" data-end="1077.67">your users will not be prompted automatically at the bottom</span> <span data-start="1077.67" data-end="1078.69">to install the app.</span> <span data-start="1078.69" data-end="1080.79">You need to catch the beforeinstallprompt,</span> <span data-start="1080.79" data-end="1084.78">and then save that prompt and call the prompt method.</span> <span data-start="1084.78" data-end="1087.36">And this is the code to do that, so you add an event listener</span> <span data-start="1087.36" data-end="1090.42">for beforeinstallprompt, then you prevent default</span> <span data-start="1090.42" data-end="1092.86">for all the browsers, save the prompt</span> <span data-start="1092.86" data-end="1097.17">in this deferred variable, and then show your install button.</span> </p>
<p><span data-start="1097.17" data-end="1099.96">So here, we just set a display to block.</span> <span data-start="1099.96" data-end="1102.84">And then in the click listener for that install button,</span> <span data-start="1102.84" data-end="1105.27">you hide it, call the prompt method</span> <span data-start="1105.27" data-end="1107.73">from that saved variable, and then</span> <span data-start="1107.73" data-end="1110.55">you check the user choice property,</span> <span data-start="1110.55" data-end="1112.59">and particularly, the outcome field</span> <span data-start="1112.59" data-end="1116.58">to see if the user has accepted your installation.</span> <span data-start="1116.58" data-end="1117.08">OK.</span> <span data-start="1117.08" data-end="1121.23">So as I said earlier, the answer to this question is no.</span> <span data-start="1121.23" data-end="1123.51">You have your app installed on the Chrome OS,</span> <span data-start="1123.51" data-end="1125.31">but you should not do browser [INAUDIBLE]</span> <span data-start="1125.31" data-end="1127.77">but do, instead, feature detection.</span> <span data-start="1127.77" data-end="1131.49">And the reason is there is a wide variety of input devices</span> <span data-start="1131.49" data-end="1135.09">and form factors that Chrome OS can run on.</span> <span data-start="1135.09" data-end="1137.25">So you might have a touch screen or you might not.</span> </p>
<p><span data-start="1137.25" data-end="1139.65">Some lower end devices don't have a touch screen.</span> <span data-start="1139.65" data-end="1143.97">There might be a trackpad or it might be the Acer Tab 10 tablet</span> <span data-start="1143.97" data-end="1146.137">that I mentioned earlier.</span> <span data-start="1146.137" data-end="1147.22">There might be a keyboard.</span> <span data-start="1147.22" data-end="1149.25">So if your app can use keyboard shortcuts,</span> <span data-start="1149.25" data-end="1151.77">it's good to add support for them.</span> <span data-start="1151.77" data-end="1154.53">There may be a mouse, so add support for that</span> <span data-start="1154.53" data-end="1155.34">if it makes sense.</span> <span data-start="1155.34" data-end="1160.11">There might also be a stylus, useful for drawing apps.</span> <span data-start="1160.11" data-end="1163.02">Also make sure to build responsive and take advantage</span> <span data-start="1163.02" data-end="1164.64">of all the screen real estate.</span> <span data-start="1164.64" data-end="1167.16">This is an example of an app that</span> <span data-start="1167.16" data-end="1169.85">supports a large or wide display, rather,</span> <span data-start="1169.85" data-end="1172.74">and displays a number of days in the weather forecast.</span> <span data-start="1172.74" data-end="1175.77">But also, if it's resized for phone-size screen,</span> <span data-start="1175.77" data-end="1177.64">it shows less information.</span> </p>
<p><span data-start="1177.64" data-end="1180.6">And you can even support a rolled up state</span> <span data-start="1180.6" data-end="1182.97">if the user just wants to glance at the weather</span> <span data-start="1182.97" data-end="1185.7">continuously if they have OCD.</span> <span data-start="1185.7" data-end="1187.919">But for a media player — </span> <span data-start="1187.919" data-end="1189.46">that would be a more useful example — </span> <span data-start="1189.46" data-end="1193.17">you can have previous and next controls.</span> <span data-start="1193.17" data-end="1196.24">I actually have OCD and I do that often.</span> <span data-start="1196.24" data-end="1199.83">And this is an example from Starbucks.</span> <span data-start="1199.83" data-end="1201.9">They found that building responsive</span> <span data-start="1201.9" data-end="1205.68">pays off because users would actually order on the desktop</span> <span data-start="1205.68" data-end="1210.42">and use their mobile device to pick up their order.</span> </p>
<p><span data-start="1210.42" data-end="1213.24">So build responsive.</span> <span data-start="1213.24" data-end="1216.27">It also pays off to optimize your forms because nobody</span> <span data-start="1216.27" data-end="1217.84">likes to fill in the forms.</span> <span data-start="1217.84" data-end="1221.94">And to have some guidance —  g.co/AmazingWebForms.</span> <span data-start="1221.94" data-end="1223.52">That's an amazing URL.</span> <span data-start="1223.52" data-end="1227.25">And if you want to handle touch in an optimized fashion,</span> <span data-start="1227.25" data-end="1230.23">check out g.co/WebTouch.</span> <span data-start="1230.23" data-end="1232.35">There are also pointer events, and these</span> <span data-start="1232.35" data-end="1236.37">are a unifying model for all sorts of pointer input — </span> <span data-start="1236.37" data-end="1238.83">touch, trackpad, mouse, stylus.</span> <span data-start="1238.83" data-end="1241.22">And you have a lot of events that</span> <span data-start="1241.22" data-end="1243.8">are supported in the Chrome, Firefox, Opera, IE,</span> <span data-start="1243.8" data-end="1247.11">Edge, and Samsung, such as pointer move.</span> <span data-start="1247.11" data-end="1250.62">You just need to add a listener for it or — </span> <span data-start="1250.62" data-end="1251.37">sorry.</span> </p>
<p><span data-start="1251.37" data-end="1255.36">You have pointer enter, pointer down, pointer up,</span> <span data-start="1255.36" data-end="1256.95">cancel out, leave, and so on.</span> <span data-start="1256.95" data-end="1260.78">More at the g.co/PointerEvents.</span> <span data-start="1260.78" data-end="1264.06">And this is an example of a code that distinguishes</span> <span data-start="1264.06" data-end="1266.34">between the pointing device — </span> <span data-start="1266.34" data-end="1269.73">you can check if there is mouse or touch or pen or something</span> <span data-start="1269.73" data-end="1274.14">that has not yet been supported by the browser.</span> <span data-start="1274.14" data-end="1278.68">OK, so what's going to happen in the future?</span> <span data-start="1278.68" data-end="1281.81">We are working on improving the desktop PWA support.</span> </p>
<p><span data-start="1281.81" data-end="1284.1">One improvement is keyboard shortcuts.</span> <span data-start="1284.1" data-end="1286.135">Another one is badging for the launch icon.</span> <span data-start="1286.135" data-end="1288.26">So we don't have to notify the user for everything.</span> <span data-start="1288.26" data-end="1290.97">You can display a number of notifications,</span> <span data-start="1290.97" data-end="1294.06">just like for Android and iOS apps.</span> <span data-start="1294.06" data-end="1295.83">And then also, link capturing, which</span> <span data-start="1295.83" data-end="1297.31">would make Twitter very happy.</span> <span data-start="1297.31" data-end="1299.88">They have a great PWA, but when you click on a link,</span> <span data-start="1299.88" data-end="1301.95">it's not captured yet.</span> <span data-start="1301.95" data-end="1304.081">So in the future, we hope to enable this,</span> <span data-start="1304.081" data-end="1306.58">such that when you click on a link that your app can handle,</span> <span data-start="1306.58" data-end="1309.07">your app will actually open and handle that link.</span> </p>
<p><span data-start="1309.07" data-end="1311.8">And for that, you need to define the scope parameter</span> <span data-start="1311.8" data-end="1313.48">in the manifest.</span> <span data-start="1313.48" data-end="1316.18">And the scope parameter is used to determine</span> <span data-start="1316.18" data-end="1318.46">when your user has left your web app</span> <span data-start="1318.46" data-end="1320.98">and needs to be bounced in a tab.</span> <span data-start="1323.5" data-end="1325.96">We are also working on low-latency canvas contexts,</span> <span data-start="1325.96" data-end="1328.73">which are introduced in Chrome 71 Beta.</span> <span data-start="1328.73" data-end="1333.4">And these are very useful for highly interactive apps.</span> <span data-start="1333.4" data-end="1337.84">They use OpenGLES for rastering, and how it works</span> <span data-start="1337.84" data-end="1343.04">is that your pixels get written to the front buffer directly.</span> <span data-start="1343.04" data-end="1346.24">So this bypasses several steps of the rendering process,</span> <span data-start="1346.24" data-end="1348.7">and Chrome writes there in that piece of memory</span> <span data-start="1348.7" data-end="1351.61">that is used by the Linux rendering</span> <span data-start="1351.61" data-end="1355.13">subsystem and the scanned [INAUDIBLE] screen.</span> </p>
<p><span data-start="1355.13" data-end="1357.88">So this low-latency context runs the risk of tearing,</span> <span data-start="1357.88" data-end="1359.77">but if you don't interact with a DOM,</span> <span data-start="1359.77" data-end="1362.65">such as in a game or other highly interactive app,</span> <span data-start="1362.65" data-end="1366.83">it's useful to use it.</span> <span data-start="1366.83" data-end="1369.9">This is an example of how to set up a low-latency canvas</span> <span data-start="1369.9" data-end="1370.47">context.</span> <span data-start="1370.47" data-end="1373.17">You pass the latency parameter true,</span> <span data-start="1373.17" data-end="1378.79">and also, it needs to be opaque, so you pass alpha false.</span> <span data-start="1378.79" data-end="1380.65">And this is the last slide.</span> <span data-start="1380.65" data-end="1383.11">I had no idea what to put on it, but I</span> <span data-start="1383.11" data-end="1386.11">figured that I should add that Chromebooks</span> <span data-start="1386.11" data-end="1387.73">are these convergence machines that</span> <span data-start="1387.73" data-end="1390.76">run Linux, Android, and Google Play</span> <span data-start="1390.76" data-end="1392.74">natively without emulation.</span> </p>
<p><span data-start="1392.74" data-end="1394.45">So they run very fast.</span> <span data-start="1394.45" data-end="1396.73">You should totally take advantage of the 75%</span> <span data-start="1396.73" data-end="1401.16">off discount, and please do explore Chromebooks and give us</span> <span data-start="1401.16" data-end="1401.66">feedback.</span> <span data-start="1401.66" data-end="1402.79">We love feedback.</span> <span data-start="1402.79" data-end="1405.23">We have the Chromium OS dev group — </span> <span data-start="1405.23" data-end="1406.21">the Google Group.</span> </p>
<p><span data-start="1406.21" data-end="1410.126">And also, the sub-reddit, Crostini.</span> <span data-start="1410.126" data-end="1412.05">If you find issues, please check if they've</span> <span data-start="1412.05" data-end="1414.2">been reported at crbug.com.</span> <span data-start="1414.2" data-end="1417.7">Otherwise, file them using Shift-Alt-I,</span> <span data-start="1417.7" data-end="1419.86">and add the Crostini tag.</span> </p>
<p><span data-start="1419.86" data-end="1424.06">And we are Dan and Steve, and thank you.</span> <span data-start="1424.06" data-end="1426.51">[MUSIC PLAYING]</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
