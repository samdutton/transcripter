<!DOCTYPE html>

<!--
Copyright 2018 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="Chrome Dev Summit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>puUPpVrIRkc</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/puUPpVrIRkc?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0" data-end="1.398">[MUSIC PLAYING]</span> </p>
</section>

<section>
<p><span data-start="4.503" data-end="6.17"><span class="speaker">Neal Schloss</span>: Today, we're going to talk</span> <span data-start="6.17" data-end="8.66">about performance patterns for building inclusive web</span> <span data-start="8.66" data-end="9.68">experiences.</span> <span data-start="9.68" data-end="12.68">Let's kick things off with Addy</span> </p>
</section>

<section>
<p><span data-start="12.68" data-end="18.54"><span class="speaker">Addy Osmani</span>: Cool, so any user can have a slow experience.</span> <span data-start="18.54" data-end="20.27">It could be the site.</span> <span data-start="20.27" data-end="24.56">It could be their hardware, or it could be the network.</span> <span data-start="24.56" data-end="26.36">Now, have you ever watched someone</span> <span data-start="26.36" data-end="28.88">that has poor network service?</span> <span data-start="28.88" data-end="32.369">They usually will be staring at their phone.</span> <span data-start="32.369" data-end="36.8">And then, their arm just slides to go up, and up, and up,</span> <span data-start="36.8" data-end="37.73">and up — </span> <span data-start="37.73" data-end="40.58">almost as if they're trying to pierce some force fields</span> <span data-start="40.58" data-end="42.89">that will give them 4G.</span> <span data-start="42.89" data-end="46.73">Now, I personally think that I probably have the worst network</span> <span data-start="46.73" data-end="48.2">service here.</span> <span data-start="48.2" data-end="52.98">If I go from one part of the stage to the other,</span> <span data-start="52.98" data-end="55.4">if I just twirl around a little bit,</span> </p>
<p><span data-start="55.4" data-end="59.6">I go from 4G to edge, edge — </span> <span data-start="59.6" data-end="61.91">edge being both my network connection type, but also</span> <span data-start="61.91" data-end="63.292">my mental state.</span> <span data-start="63.292" data-end="65.89">[LAUGHTER]</span> <span data-start="65.89" data-end="67.78">Now, we've all had user experiences</span> <span data-start="67.78" data-end="71">that are fast and also plenty that are slow.</span> </p>
<p><span data-start="71" data-end="73.84">So to support a web ecosystem that's</span> <span data-start="73.84" data-end="78.17">inclusive of users who are both on low-end and high-end devices</span> <span data-start="78.17" data-end="82.66">and networks, as developers, we need to start doing something.</span> <span data-start="82.66" data-end="86.74">We need to start respecting the user's hardware and network</span> <span data-start="86.74" data-end="88.21">constraints.</span> <span data-start="88.21" data-end="90.52">You see, these characteristics really matter.</span> <span data-start="90.52" data-end="93.25">The user's hardware and their network type</span> <span data-start="93.25" data-end="95.23">can massively impact the experience</span> <span data-start="95.23" data-end="98.46">that they're going to have with your site.</span> <span data-start="98.46" data-end="100.93">So let's talk about why that is, what are components</span> <span data-start="100.93" data-end="102.55">that can contribute to that?</span> </p>
<p><span data-start="102.55" data-end="104.05">Well, what's in a modern smartphone?</span> <span data-start="104.05" data-end="108.58">We've got a CPU, memory, storage, a screen, and battery.</span> <span data-start="108.58" data-end="110.8">Phone hardware can vary quite a lot.</span> <span data-start="110.8" data-end="112.9">The hardware that's in your pockets</span> <span data-start="112.9" data-end="116.02">right now can probably vary by quite a lot compared</span> <span data-start="116.02" data-end="119.11">to the stuff that your users are accessing your sites on.</span> <span data-start="119.11" data-end="121.39">L1, L2, L3 caches —  all of these things</span> <span data-start="121.39" data-end="123.87">can have an impact on the overall experience</span> <span data-start="123.87" data-end="125.71">in pretty noticeable ways.</span> </p>
<p><span data-start="125.71" data-end="128.47">Now, let's quantify this problem a little bit.</span> <span data-start="128.47" data-end="131.8">Here is a visualization of the performance gap on mobile.</span> <span data-start="131.8" data-end="135.31">What we can see here are the top 10 highest-selling smartphone</span> <span data-start="135.31" data-end="138.19">sales for the first half of 2019.</span> <span data-start="138.19" data-end="139.87">And what you'll see is that there's</span> <span data-start="139.87" data-end="145.27">a huge gap between high-end devices and everything else.</span> <span data-start="145.27" data-end="148.86">It's about a two or three times a slowdown</span> <span data-start="148.86" data-end="150.943">if we're talking about the other hardware.</span> <span data-start="150.943" data-end="152.86">Now, device characteristics matter quite a lot</span> <span data-start="152.86" data-end="154.6">because one of the things we're doing</span> <span data-start="154.6" data-end="157.69">is putting JavaScript increasingly into our sites</span> <span data-start="157.69" data-end="159.28">today, a lot of it.</span> <span data-start="159.28" data-end="162.303">And given that JavaScript is inherently single-threaded</span> <span data-start="162.303" data-end="164.47">and more single-threaded than the rest the platform.</span> <span data-start="164.47" data-end="167.3">This stresses things like single-core performance.</span> <span data-start="167.3" data-end="169.685">And so we need to care about things like the CPU.</span> </p>
<p><span data-start="169.685" data-end="171.31">So if you're making sites that are only</span> <span data-start="171.31" data-end="172.78">going to work on high-end hardware,</span> <span data-start="172.78" data-end="176.24">you might be excluding some of your users.</span> <span data-start="176.24" data-end="178.63">So this is something we've said for multiple years — </span> <span data-start="178.63" data-end="181.842">if you want to build a fast site, use slow hardware.</span> <span data-start="181.842" data-end="183.55">Alex Russell has been on the stage plenty</span> <span data-start="183.55" data-end="185.18">of times saying the same thing.</span> <span data-start="185.18" data-end="187.638">But I just want to remind you that that's one of the things</span> <span data-start="187.638" data-end="190.37">that we need to just make sure we're constantly doing.</span> <span data-start="190.37" data-end="191.92">Now, we talked about smartphones.</span> <span data-start="191.92" data-end="194.83">But this problem of variance applies equally to desktops</span> <span data-start="194.83" data-end="195.71">as well.</span> <span data-start="195.71" data-end="198.31">There's a huge performance gap on desktop.</span> </p>
<p><span data-start="198.31" data-end="200.33">Over here, we can see the CPU performance.</span> <span data-start="200.33" data-end="202.915">This is using Geebench data, same as the other side.</span> <span data-start="202.915" data-end="205.57">This is using Geekbench CPU performance data.</span> <span data-start="205.57" data-end="207.64">And it shows us the highest-selling laptops</span> <span data-start="207.64" data-end="208.54">on Amazon.</span> </p>
<p><span data-start="208.54" data-end="212.41">And at the very bottom, I have a modern popular developer</span> <span data-start="212.41" data-end="214.035">laptop, a MacBook Pro.</span> <span data-start="214.035" data-end="216.16">And what you can see is that the devices that we're</span> <span data-start="216.16" data-end="220.21">building our experiences on are so much faster than the devices</span> <span data-start="220.21" data-end="223.42">that people are actually out there buying on mass.</span> <span data-start="223.42" data-end="225.46">You can have old hardware that sticks around</span> <span data-start="225.46" data-end="226.63">for years and years — </span> <span data-start="226.63" data-end="228.34">people that tend to have longer refresh</span> <span data-start="228.34" data-end="230.278">cycles for desktop hardware.</span> </p>
<p><span data-start="230.278" data-end="232.57">And there's just generally a huge performance disparity</span> <span data-start="232.57" data-end="235.93">between low-end and high-end.</span> <span data-start="235.93" data-end="238.98">So a question that Nate and I would like to pose to you today</span> <span data-start="238.98" data-end="242.7">is, do we need to deliver the exact same experience</span> <span data-start="242.7" data-end="244.62">to every user?</span> <span data-start="244.62" data-end="246.9">We think that the answer is no.</span> <span data-start="246.9" data-end="249.78">In a world with widely varying device capabilities,</span> <span data-start="249.78" data-end="253.54">a one-size-fits-all experience doesn't always work.</span> </p>
<p><span data-start="253.54" data-end="256.529">Sites that the light users on high-end devices</span> <span data-start="256.529" data-end="259.35">can sometimes be very unusable on low-end ones,</span> <span data-start="259.35" data-end="262.99">particularly in emerging markets and on older hardware.</span> <span data-start="262.99" data-end="266.02">Now, we think that responsive design was a really good start.</span> <span data-start="266.02" data-end="269.04">But we think we can maybe increment on it a little bit</span> <span data-start="269.04" data-end="270.81">and improve it.</span> <span data-start="270.81" data-end="274.9">So today, we'd like to introduce this idea of adaptive loading.</span> <span data-start="274.9" data-end="276.36">Now, adaptive loading is this idea</span> <span data-start="276.36" data-end="280.98">that we build to support low-end devices first and progressively</span> <span data-start="280.98" data-end="284.11">add high-end only features on top of it.</span> <span data-start="284.11" data-end="286.53">This allows users to get a great experience best suited</span> <span data-start="286.53" data-end="288.39">to their device and network constraints</span> <span data-start="288.39" data-end="290.11">with fewer frustrations.</span> </p>
<p><span data-start="290.11" data-end="291.78">So one core experience everybody — </span> <span data-start="291.78" data-end="293.82">but people in high-end networks and devices</span> <span data-start="293.82" data-end="296.768">get something that's just a little bit better.</span> <span data-start="296.768" data-end="298.56">Let's chat about a few ideas in this space,</span> <span data-start="298.56" data-end="300.31">and how we can make it easier for everyone</span> <span data-start="300.31" data-end="303.99">to give users a good experience on low-end devices.</span> <span data-start="303.99" data-end="306">We're going to kick it off with a demo.</span> <span data-start="306" data-end="309.225">So a switchover real quick.</span> </p>
<p><span data-start="315.49" data-end="318.32">Let's see if this is working, cool.</span> <span data-start="318.32" data-end="320.9">So Paul Irish and Elizabeth earlier today,</span> <span data-start="320.9" data-end="325.46">they mentioned this really neat YouTube lazy loading element</span> <span data-start="325.46" data-end="327.655">that Paul had built for improving performance.</span> <span data-start="327.655" data-end="329.03">And I thought it'd be neat for us</span> <span data-start="329.03" data-end="330.98">to actually try integrating that into an app</span> <span data-start="330.98" data-end="334.01">and show you a few ways that we can improve on it.</span> </p>
<p><span data-start="334.01" data-end="335.93">Before that, how many people here know</span> <span data-start="335.93" data-end="339.43">what styled console logs are?</span> <span data-start="339.43" data-end="341.56">That's like 30%, 40% of the audience.</span> <span data-start="341.56" data-end="343.07">So they basically look like this.</span> <span data-start="343.07" data-end="347.02">They let us create these nice fun, funky console logs.</span> <span data-start="347.02" data-end="350.74">One of the really nice things about styled console logs</span> <span data-start="350.74" data-end="355.03">is that we can also abuse them to create our own console</span> <span data-start="355.03" data-end="358.93">and messages —  so in my case, speaking after Paul</span> <span data-start="358.93" data-end="361.3">Irish and Elizabeth Sweeny.</span> <span data-start="361.3" data-end="365.17">But we're going to try to give you a decent demo of this idea.</span> </p>
<p><span data-start="365.17" data-end="367.78">So here what we've got is basically</span> <span data-start="367.78" data-end="369.61">a reimplantation of YouTube.</span> <span data-start="369.61" data-end="371.35">It's using live YouTube data.</span> <span data-start="371.35" data-end="374">And I'm going to keep the Network Panel open over here.</span> <span data-start="374" data-end="376.675">We're going to navigate to a video.</span> <span data-start="376.675" data-end="378.83">So let's go to this one real quick.</span> <span data-start="378.83" data-end="381.97">What we see is that 514 kilobytes worth of scripts</span> <span data-start="381.97" data-end="383.9">are loaded for this experience.</span> <span data-start="383.9" data-end="388.9">Now, imagine we were to swap out the Core Video experience here</span> <span data-start="388.9" data-end="390.85">for something a little bit lighter.</span> <span data-start="390.85" data-end="395.232">Now, I want to do something real quick to show you</span> <span data-start="395.232" data-end="396.19">what we're going to do.</span> <span data-start="396.19" data-end="398.62">So we've got this little window debug thing.</span> <span data-start="398.62" data-end="401.11">What we can see in green is the core content</span> <span data-start="401.11" data-end="402.07">for this experience.</span> </p>
<p><span data-start="402.07" data-end="404.08">In red, we've got all this extraneous stuff.</span> <span data-start="404.08" data-end="405.58">We've got Recommended Videos.</span> <span data-start="405.58" data-end="407.8">We've got Comments.</span> <span data-start="407.8" data-end="410.02">And I thought it'd be interesting to think about what</span> <span data-start="410.02" data-end="414.88">if you're on a slow network or a constrained device,</span> <span data-start="414.88" data-end="418.57">something with low memory, or if you receive [INAUDIBLE]. what</span> <span data-start="418.57" data-end="421.06">if we were to do something where we can navigate back</span> <span data-start="421.06" data-end="424.92">to the main experience, we can emulate this?</span> <span data-start="424.92" data-end="428.92">Let's go into fast 3G.</span> </p>
<p><span data-start="428.92" data-end="433.36">And if we now go to the video page, what we see instead</span> <span data-start="433.36" data-end="436.24">is that we've actually used that lazy loading element from Paul</span> <span data-start="436.24" data-end="437.11">Irish earlier.</span> <span data-start="437.11" data-end="439.608">And it's only loading up three kilobytes of scripts.</span> <span data-start="439.608" data-end="442.15">But we're being very intentional with only shipping this down</span> <span data-start="442.15" data-end="445.07">to users who were in the worst conditions.</span> <span data-start="445.07" data-end="447.385">So we're going to talk a little bit about these ideas.</span> <span data-start="447.385" data-end="450.64">We're going to switch back on to the slides right now.</span> <span data-start="450.64" data-end="453.22">Now, there are three or four key signals</span> <span data-start="453.22" data-end="455.72">we'll be looking at for adaptive loading today.</span> <span data-start="455.72" data-end="457.99">First of all, we've got network for fine-tuning things</span> <span data-start="457.99" data-end="460.78">like data transfer to use less bandwidth.</span> </p>
<p><span data-start="460.78" data-end="463.42">We've got memory for reducing the amount of memory</span> <span data-start="463.42" data-end="465.58">consumption on low-end devices — </span> <span data-start="465.58" data-end="468.88">CPU for limiting costly jobs' [INAUDIBLE] execution,</span> <span data-start="468.88" data-end="470.98">and reducing CPU intensive logic.</span> <span data-start="470.98" data-end="472.94">And we'll talk a little bit about client hints.</span> <span data-start="472.94" data-end="475.14">And we'll talk about JavaScript APIs</span> <span data-start="475.14" data-end="477.49">we're doing some on this stuff.</span> </p>
<p><span data-start="477.49" data-end="480.25">Now, to make all of this easier, today we're</span> <span data-start="480.25" data-end="484.54">releasing a new experimental set of React Hooks</span> <span data-start="484.54" data-end="487.868">for adaptive loading that you can go and check out.</span> <span data-start="487.868" data-end="489.91">If you're using React to build experiences today,</span> <span data-start="489.91" data-end="492.61">whether it's React on its own or next js,</span> <span data-start="492.61" data-end="494.83">you can use these Hooks for everything</span> <span data-start="494.83" data-end="497.92">from network, memory, CPU to employ some of the ideas</span> <span data-start="497.92" data-end="500.17">that we're going to be talking about in just a second.</span> </p>
<p><span data-start="500.17" data-end="501.88">And by the way, all of these are built</span> <span data-start="501.88" data-end="503.77">on top of web platform APIs.</span> <span data-start="503.77" data-end="505.93">And so if you're using a different framework,</span> <span data-start="505.93" data-end="508.1">if you're using Angular, or View, Svelte,</span> </p>
<p><span data-start="508.1" data-end="509.95">Lit, any of these things, you can still</span> <span data-start="509.95" data-end="511.06">employ these techniques.</span> <span data-start="511.06" data-end="513.518">It's just that we're going to be focusing on React for now.</span> </p>
</section>

<section>
<p><span data-start="513.518" data-end="514.814"><span class="speaker">Audience</span>: Woo!</span> </p>
</section>

<section>
<p><span data-start="514.814" data-end="516.022"><span class="speaker">Addy Osmani</span>: Well, thank you.</span> <span data-start="516.022" data-end="516.71">[LAUGHTER]</span> <span data-start="516.71" data-end="519.62">Thank you, one person.</span> <span data-start="519.62" data-end="522.64">So let's kick things off with adaptive media loading.</span> <span data-start="522.64" data-end="525.55">Now, this is the idea that we serve low-quality images</span> <span data-start="525.55" data-end="528.46">and videos to users, reducing bandwidth and memory</span> <span data-start="528.46" data-end="529.6">consumption.</span> </p>
<p><span data-start="529.6" data-end="532.78">So picture, I've got a site where maybe I'm shipping down</span> <span data-start="532.78" data-end="533.92">videos to everybody.</span> <span data-start="533.92" data-end="535.27">But do I need to?</span> <span data-start="535.27" data-end="538.33">Maybe I could be shipping down low-resolution images instead,</span> <span data-start="538.33" data-end="541.73">if your network can't handle it, if your device can't handle it.</span> <span data-start="541.73" data-end="543.77">So you could picture a photo gallery application</span> <span data-start="543.77" data-end="545.41">and shipping those low res images,</span> <span data-start="545.41" data-end="548.387">or using less code-heavy carousels.</span> <span data-start="548.387" data-end="549.97">You could imagine a search application</span> <span data-start="549.97" data-end="553.6">where maybe you're limiting the number of media-heavy previews.</span> </p>
<p><span data-start="553.6" data-end="555.28">You can imagine news-oriented site</span> <span data-start="555.28" data-end="557.71">where you're emitting some popular categories that</span> <span data-start="557.71" data-end="560.83">maybe have preview images in there as well.</span> <span data-start="560.83" data-end="565.26">And the way that we can determine network connection</span> <span data-start="565.26" data-end="567.76">information on the platform is using the network information</span> <span data-start="567.76" data-end="568.63">API.</span> </p>
<p><span data-start="568.63" data-end="570.64">So the netinfo api summarizes performance</span> <span data-start="570.64" data-end="571.888">of users' network connection.</span> <span data-start="571.888" data-end="574.18">And on the web, it's what allows us deliver experiences</span> <span data-start="574.18" data-end="577">based on how slow or fast the connection is.</span> </p>
<p><span data-start="577" data-end="580.46">Now, you can use this API via the web platform.</span> <span data-start="580.46" data-end="581.89">And you can also use it for things</span> <span data-start="581.89" data-end="583.57">like conditional resource loading,</span> <span data-start="583.57" data-end="586.79">using the React Hooks that I just mentioned.</span> <span data-start="586.79" data-end="589.06">So let's actually take a look at a quick demo of this.</span> <span data-start="589.06" data-end="592.21">We're going to switch back over to the other machine real</span> <span data-start="592.21" data-end="593.32">quick.</span> <span data-start="593.32" data-end="596.72">And here we have an experience called React Movie.</span> <span data-start="596.72" data-end="598.69">By the way, for all the demos today, we're</span> <span data-start="598.69" data-end="601.6">integrating adaptive loading on top of existing apps built</span> <span data-start="601.6" data-end="602.35">by the community.</span> </p>
<p><span data-start="602.35" data-end="604.558">None of this is just stuff that was run from scratch.</span> <span data-start="604.558" data-end="606.74">You can employ these ideas in your apps today.</span> <span data-start="606.74" data-end="608.92">So here we have an app called React Movie.</span> <span data-start="608.92" data-end="611.8">And this is a movie discovery app.</span> <span data-start="611.8" data-end="614.08">I can see all movies that are out at the moment.</span> <span data-start="614.08" data-end="615.07">I can click through.</span> </p>
<p><span data-start="615.07" data-end="617.753">And I can browse thumbnails for them.</span> <span data-start="617.753" data-end="620.17">But what you see is that this core experience is currently</span> <span data-start="620.17" data-end="626.68">shipping 2.7 megs worth of images if I'm any casual user.</span> <span data-start="626.68" data-end="629.11">We can employ adaptive media loading techniques</span> <span data-start="629.11" data-end="630.7">and actually deliver an experience</span> <span data-start="630.7" data-end="633.875">where if you're on slow 3G —  so let's actually clear this out.</span> <span data-start="633.875" data-end="638.08">This might take a hot second to load up given it's so slow.</span> <span data-start="638.08" data-end="640.87">But the idea that we're going to be trying to represent here</span> <span data-start="640.87" data-end="644.92">if ever loads up is that you can still</span> <span data-start="644.92" data-end="647.98">offer the users an experience with slightly lower-resolution</span> <span data-start="647.98" data-end="651.52">imagery in a lot less bytes.</span> <span data-start="651.52" data-end="655.4">So it's taking its time.</span> </p>
<p><span data-start="655.4" data-end="656.9">It's taking this time.</span> <span data-start="656.9" data-end="658.12">It's getting there.</span> <span data-start="658.12" data-end="660.13">But these are all lower-resolution images.</span> <span data-start="660.13" data-end="663.1">The overall payload size is significantly smaller than what</span> <span data-start="663.1" data-end="664.792">we were showing you before.</span> <span data-start="664.792" data-end="667">And it actually didn't take a lot of code to do this.</span> <span data-start="667" data-end="669.25">We're just using two or three lines of additional code</span> <span data-start="669.25" data-end="672.04">after importing in that network Hook.</span> <span data-start="672.04" data-end="675.17">And everything works the way you'd expect.</span> <span data-start="675.17" data-end="678.76">So the next thing I wanted to show you —  let's switch back</span> <span data-start="678.76" data-end="681.287">over to the slides, please.</span> <span data-start="681.287" data-end="682.87">So the next thing I wanted to show you</span> <span data-start="682.87" data-end="686.12">was Data-Saver aware resource loading.</span> </p>
<p><span data-start="686.12" data-end="688.48">So the Save Data Client hint is something</span> <span data-start="688.48" data-end="691.33">that is a request header that lets you deliver lighter</span> <span data-start="691.33" data-end="693.07">experiences to your users who opt</span> <span data-start="693.07" data-end="695.39">in to data-saving mode in their browser.</span> <span data-start="695.39" data-end="696.97">And when a user has this feature on,</span> <span data-start="696.97" data-end="699.68">the browser can request low-resolution images.</span> <span data-start="699.68" data-end="701.72">It can defer loading some resources.</span> <span data-start="701.72" data-end="703.6">And this is available as a JavaScript API but</span> <span data-start="703.6" data-end="705.615">is also something you can use via Client Hints.</span> <span data-start="705.615" data-end="706.99">So once again here, you see we're</span> <span data-start="706.99" data-end="710.56">using our React Hook in order to achieve conditional resource</span> <span data-start="710.56" data-end="711.43">loading.</span> </p>
<p><span data-start="711.43" data-end="714.51">A company that's using data saving</span> <span data-start="714.51" data-end="717.91">as a mode —  they've got a custom mode quite effectively today — </span> <span data-start="717.91" data-end="719.44">is Twitter.com.</span> <span data-start="719.44" data-end="722.32">So Twitter is designed to minimize the amount of data</span> <span data-start="722.32" data-end="722.89">that you use.</span> </p>
<p><span data-start="722.89" data-end="724.658">They've got a really nice Data Saver mode.</span> <span data-start="724.658" data-end="726.7">And when you opt into it, you can get anywhere up</span> <span data-start="726.7" data-end="731.02">to 80% reduction in overall data usage for images on the web,</span> <span data-start="731.02" data-end="734.2">and anywhere up to 96% if you're including things</span> <span data-start="734.2" data-end="736.33">like disabled video autoplay.</span> </p>
<p><span data-start="736.33" data-end="738.01">I thought it would be neat for us</span> <span data-start="738.01" data-end="740.98">to try re-implementing something like the Twitter data feed.</span> <span data-start="740.98" data-end="742.48">So we're going to go and take a look</span> <span data-start="742.48" data-end="744.59">at another very quick demo.</span> <span data-start="744.59" data-end="747.64">So here, we have the Twitter feed.</span> <span data-start="747.64" data-end="750.1">It's a simplistic version of it.</span> <span data-start="750.1" data-end="752.19">I can scroll through this feed.</span> <span data-start="752.19" data-end="755.56">I see plenty of Tweets, plenty of resources.</span> <span data-start="755.56" data-end="757.21">And the overall payload size of this</span> <span data-start="757.21" data-end="759.74">is something like 6.9 megabytes overall.</span> <span data-start="759.74" data-end="763.21">This is including high-resolution images, videos,</span> <span data-start="763.21" data-end="765.38">anything else that's supported.</span> </p>
<p><span data-start="765.38" data-end="767.71">Now, using this Hook, or using just the web platform</span> <span data-start="767.71" data-end="772.42">APIs for data saving, I can go and I can toggle this.</span> <span data-start="772.42" data-end="774.07">And what you'll see is that we've</span> <span data-start="774.07" data-end="776.58">switched out those high-resolution images</span> <span data-start="776.58" data-end="779.22">for low-quality image placeholders.</span> <span data-start="779.22" data-end="781.39">I can scroll through this feed pretty quickly.</span> <span data-start="781.39" data-end="783.72">I don't have to be fetching the original images</span> <span data-start="783.72" data-end="785.34">at full resolution.</span> <span data-start="785.34" data-end="787.38">And if I want to see the full-resolution image,</span> </p>
<p><span data-start="787.38" data-end="790.49">I can just tap and get that same experience.</span> <span data-start="790.49" data-end="792.84">Now, scrolling back up here, there</span> <span data-start="792.84" data-end="798.46">is actually a video that has its autoplay disabled.</span> <span data-start="798.46" data-end="799.95">This is by Mr. doob.</span> <span data-start="799.95" data-end="802.06">And I thought I'd play this for you.</span> <span data-start="802.06" data-end="803.7">So this is basically what it looks</span> <span data-start="803.7" data-end="807.24">like when we, as developers, have a nice payday.</span> </p>
<p><span data-start="807.24" data-end="808.98">You're just like doing all your — </span> <span data-start="813.47" data-end="815.09">I love that so much.</span> <span data-start="815.09" data-end="819.82">My version of this is unfortunately a lot worse — </span> <span data-start="819.82" data-end="821.77">oh, oh, great, OK.</span> <span data-start="821.77" data-end="828.48">Live stage fail —  let's try this out again and see if it goes.</span> <span data-start="828.48" data-end="830.494">OK, this is me.</span> <span data-start="830.494" data-end="832.35">[LAUGHTER]</span> <span data-start="832.35" data-end="837.37">Cool, very, very accurate.</span> <span data-start="837.37" data-end="841.06">So let's switch back up to the slides for a second.</span> <span data-start="841.06" data-end="843.45">Now, for a while, people have been asking for a media</span> <span data-start="843.45" data-end="845.04">query for safe data.</span> </p>
<p><span data-start="845.04" data-end="847.02">And although one doesn't exist just yet,</span> <span data-start="847.02" data-end="849.33">there is an active proposal that's</span> <span data-start="849.33" data-end="852.78">been made about introducing this idea of a user preference media</span> <span data-start="852.78" data-end="853.74">query — </span> <span data-start="853.74" data-end="855.96">prefers reduced data that would let</span> <span data-start="855.96" data-end="859.02">you design data-reduced variance of your site for users</span> <span data-start="859.02" data-end="860.435">who expressed that preference.</span> <span data-start="860.435" data-end="861.81">If you're interested in something</span> <span data-start="861.81" data-end="863.44">like this existing on the platform,</span> <span data-start="863.44" data-end="864.36">there's a link here where you can</span> <span data-start="864.36" data-end="865.86">get involved in the discussion.</span> </p>
<p><span data-start="865.86" data-end="870.05">I personally love to see something like this existing.</span> <span data-start="870.05" data-end="871.62">Next up, let's talk about memory.</span> <span data-start="871.62" data-end="874.94">So the device memory API adds navigator.device memory.</span> <span data-start="874.94" data-end="878.17">And it returns how much RAM the device has in gigabytes.</span> <span data-start="878.17" data-end="880.4">Round it down to the nearest power of 2.</span> <span data-start="880.4" data-end="883.25">Now, this API also features a Client Hints header device</span> <span data-start="883.25" data-end="885.21">memory that reports the same value.</span> <span data-start="885.21" data-end="887.81">And similar to before, it's relatively straightforward</span> <span data-start="887.81" data-end="890.81">to use the memory Hook in order to conditionally load</span> <span data-start="890.81" data-end="892.67">different types of experiences.</span> </p>
<p><span data-start="892.67" data-end="894.92">Now, I thought I'd show you a demo that's</span> <span data-start="894.92" data-end="896.18">slightly different using this.</span> <span data-start="896.18" data-end="900.08">Let's switch over to the other machine real quick once again.</span> <span data-start="900.08" data-end="903.26">I discovered this really awesome website called Dixie.</span> <span data-start="903.26" data-end="905.77">And Dixie do a bunch of consumer electronics.</span> <span data-start="905.77" data-end="907.76">One of the things that they do is</span> <span data-start="907.76" data-end="909.68">they sell mechanical keyboards.</span> <span data-start="909.68" data-end="914.3">And on their site, they have this really nifty model viewer</span> <span data-start="914.3" data-end="917.88">usage, where you can go and check out —  this is nice.</span> <span data-start="917.88" data-end="919.47">You can spin it around.</span> <span data-start="919.47" data-end="921.95">It's really pretty.</span> <span data-start="921.95" data-end="923.45">But one of the downsides to this is,</span> <span data-start="923.45" data-end="926.45">if we go and we load up our DevTools,</span> <span data-start="926.45" data-end="928.01">we go to the Network Panel, and we</span> <span data-start="928.01" data-end="930.28">try to reload this experience up,</span> <span data-start="930.28" data-end="933.81">if we organize things by size and go to the very top,</span> <span data-start="933.81" data-end="935.78">you'll see that this 3D model is actually</span> <span data-start="935.78" data-end="938.55">almost five megabytes in size.</span> </p>
<p><span data-start="938.55" data-end="941.24">Now, in addition to that, it also</span> <span data-start="941.24" data-end="944.462">uses quite a lot of memory on low-end devices</span> <span data-start="944.462" data-end="945.92">to get something like this running.</span> <span data-start="945.92" data-end="948.64">On high-end devices, on desktop, it's perfectly fine.</span> <span data-start="948.64" data-end="950.66">But for users who are on those low-end devices,</span> <span data-start="950.66" data-end="952.885">what if we were to do something like — </span> <span data-start="952.885" data-end="955.64">let me reload this picture really quick —  what if we were</span> <span data-start="955.64" data-end="958.945">to do something like use memory signals</span> <span data-start="958.945" data-end="961.07">in order to decide whether or not to just send them</span> <span data-start="961.07" data-end="963.32">down a static image.</span> </p>
<p><span data-start="963.32" data-end="966.11">We'd save on multiple megabytes worth of resources being</span> <span data-start="966.11" data-end="968.39">sent down to those users, while still giving users</span> <span data-start="968.39" data-end="970.25">who are on high-end devices a really, really</span> <span data-start="970.25" data-end="972.57">slick experience.</span> <span data-start="972.57" data-end="976.28">I personally love these 3D models —  love model viewer.</span> <span data-start="976.28" data-end="977.84">Let's talk about JavaScript.</span> <span data-start="977.84" data-end="981.86">So adaptive module serving is something I'm excited about.</span> <span data-start="981.86" data-end="985.13">And this is this idea of shipping a light interactive</span> <span data-start="985.13" data-end="989.18">core experience to all of your users and progressively adding</span> <span data-start="989.18" data-end="991.17">high-end features on top — </span> <span data-start="991.17" data-end="993.98">so if a user's device characteristics and network</span> <span data-start="993.98" data-end="995.06">can handle it.</span> <span data-start="995.06" data-end="996.56">Now, it's this device awareness that</span> <span data-start="996.56" data-end="999.167">takes progressive enhancement to the next step.</span> </p>
<p><span data-start="999.167" data-end="1001">So in high-end devices, we can conditionally</span> <span data-start="1001" data-end="1003.49">be loading more highly-interactive components</span> <span data-start="1003.49" data-end="1006.07">or more computationally-heavy operations.</span> <span data-start="1006.07" data-end="1008.11">You could imagine servers of the future</span> <span data-start="1008.11" data-end="1011.53">being smart enough to use Client Hints and ether signals that</span> <span data-start="1011.53" data-end="1014.56">come from the web platform to decide what code to send down</span> <span data-start="1014.56" data-end="1015.71">to their users.</span> <span data-start="1015.71" data-end="1018.64">So bundles that are the core experiences versus bundles</span> <span data-start="1018.64" data-end="1019.938">that are a little bit heavier.</span> <span data-start="1019.938" data-end="1021.73">In this example, we're looking at something</span> <span data-start="1021.73" data-end="1024.55">like an e-commerce site, where the core experience represents</span> <span data-start="1024.55" data-end="1027.54">the product images, the cart experience.</span> <span data-start="1027.54" data-end="1029.29">And the higher-end ones can include things</span> <span data-start="1029.29" data-end="1033.64">like zooming into images, related products, videos,</span> <span data-start="1033.64" data-end="1037.119">and AR version of the experience —  go crazy.</span> </p>
<p><span data-start="1037.119" data-end="1038.619">I wanted to demo a slimmer version</span> <span data-start="1038.619" data-end="1042.91">of this idea, adaptive code splitting and code loading.</span> <span data-start="1042.91" data-end="1044.77">Actually before we go into that, some of you</span> <span data-start="1044.77" data-end="1047.512">might be familiar with React.lazy and Suspense.</span> <span data-start="1047.512" data-end="1048.97">These are basically primitives that</span> <span data-start="1048.97" data-end="1052.36">help you do things like add code splitting to React apps</span> <span data-start="1052.36" data-end="1054.55">and then define fallbacks for that content</span> <span data-start="1054.55" data-end="1056.11">as it's loading up.</span> </p>
<p><span data-start="1056.11" data-end="1058.69">And you can, in fact, extend React.lazys.</span> <span data-start="1058.69" data-end="1061.54">You can get network-aware, or memory-aware, or</span> <span data-start="1061.54" data-end="1063.503">Data-Saver-aware code splitting.</span> <span data-start="1063.503" data-end="1065.17">So in this pattern, what we're doing is,</span> <span data-start="1065.17" data-end="1068.02">we're basically doing a check for the user's network</span> <span data-start="1068.02" data-end="1070.45">information effective type values.</span> </p>
<p><span data-start="1070.45" data-end="1072.07">And depending on those values, we're</span> <span data-start="1072.07" data-end="1075.1">able to generate different chunks for the people</span> <span data-start="1075.1" data-end="1077.02">who are on 3G, people who are on 4G,</span> <span data-start="1077.02" data-end="1080.41">maybe a light experience, a slightly heavier experience.</span> <span data-start="1080.41" data-end="1084.08">And I wanted to show you an example of this real quick.</span> <span data-start="1084.08" data-end="1085.99">So eBay are a company that are exploring</span> <span data-start="1085.99" data-end="1087.668">this idea of adaptive serving.</span> </p>
<p><span data-start="1087.668" data-end="1089.71">And they're able to conditionally turn on and off</span> <span data-start="1089.71" data-end="1093.88">features like zooming if a user's hardware or network</span> <span data-start="1093.88" data-end="1098.59">conditions don't necessarily support them well.</span> <span data-start="1098.59" data-end="1099.99">So let's switch back over here.</span> <span data-start="1099.99" data-end="1102.08">We've decided to implement a version of this.</span> <span data-start="1102.08" data-end="1106.05">And what you can see is, this is a lot like eBay on desktop.</span> <span data-start="1106.05" data-end="1109.78">And if I hover over this product image,</span> <span data-start="1109.78" data-end="1111.52">I can see this in a very high resolution.</span> <span data-start="1111.52" data-end="1114.22">I've got this nice additional magnifier dependency</span> <span data-start="1114.22" data-end="1115.64">that's being pulled in.</span> <span data-start="1115.64" data-end="1118.63">But overall, we're shipping down about 62 kilobytes</span> <span data-start="1118.63" data-end="1120.58">of JavaScript to our users.</span> <span data-start="1120.58" data-end="1125.11">Now, picture that I wanted to look at what this might look</span> <span data-start="1125.11" data-end="1128.27">like if I'm on a narrower viewport site.</span> <span data-start="1128.27" data-end="1131.2">So let's imagine we're in this situation.</span> <span data-start="1131.2" data-end="1133.9">And I'm loading this back up.</span> </p>
<p><span data-start="1133.9" data-end="1135.37">Now, in this case, we're actually</span> <span data-start="1135.37" data-end="1138.28">only loading 45 kilobytes worth of overall scripts.</span> <span data-start="1138.28" data-end="1140.83">We don't have that same magnifying experience</span> <span data-start="1140.83" data-end="1141.765">on mobile.</span> <span data-start="1141.765" data-end="1143.89">What we're doing is, we're just shipping users down</span> <span data-start="1143.89" data-end="1145.85">on experience that just shows them the image.</span> <span data-start="1145.85" data-end="1148.36">And at most, maybe we show them a modal.</span> <span data-start="1148.36" data-end="1150.64">So people who are on those higher-end situations,</span> <span data-start="1150.64" data-end="1152.973">they can get the slightly more enriched version of this.</span> <span data-start="1157.18" data-end="1159.2">And next, let's talk about CPU.</span> <span data-start="1159.2" data-end="1162.15">So desktops and smartphones can have multiple physical process</span> <span data-start="1162.15" data-end="1163.78">or cores in their CPU.</span> <span data-start="1163.78" data-end="1166.43">And each core can run more than one thread at a time.</span> <span data-start="1166.43" data-end="1169.545">So four-core CPU you might have eight logical processors.</span> <span data-start="1169.545" data-end="1171.92">And in order to determine this insight from the platform,</span> <span data-start="1171.92" data-end="1174.665">you can use the hardware concurrency API.</span> </p>
<p><span data-start="1174.665" data-end="1176.29">Now, there is a Hook available for this</span> <span data-start="1176.29" data-end="1178.84">as well that allows you to use conditional resource</span> <span data-start="1178.84" data-end="1181.13">loading, very similar to some of the others.</span> <span data-start="1181.13" data-end="1185.74">And one of the values of this is that you</span> <span data-start="1185.74" data-end="1190.18">can use it to do things like determine the optimal worker</span> <span data-start="1190.18" data-end="1193.45">thread pool if you're using Web Workers in your application.</span> <span data-start="1193.45" data-end="1197.695">The platform does have, however, limited information about CPU.</span> <span data-start="1197.695" data-end="1199.57">And I think that it's interesting to consider</span> <span data-start="1199.57" data-end="1200.95">should we have more?</span> <span data-start="1200.95" data-end="1203.33">Could that unlock other use cases?</span> <span data-start="1203.33" data-end="1206.77">Another pattern is adaptive data fetching and prefetching.</span> </p>
<p><span data-start="1206.77" data-end="1208.75">So whether it's on the client or the server,</span> <span data-start="1208.75" data-end="1210.58">reducing the quantity of data that you're</span> <span data-start="1210.58" data-end="1213.49">sending down to users can decrease overall latency.</span> <span data-start="1213.49" data-end="1215.05">And adaptive data fetching can use</span> <span data-start="1215.05" data-end="1217.6">signals like the slow network to send fewer results down</span> <span data-start="1217.6" data-end="1219.023">to your users.</span> <span data-start="1219.023" data-end="1221.44">And we've been talking about a bunch of different patterns</span> <span data-start="1221.44" data-end="1222.16">today.</span> <span data-start="1222.16" data-end="1223.61">And you might be wondering, OK, well, we're</span> <span data-start="1223.61" data-end="1225.82">seeing a few folks who are using these in production.</span> </p>
<p><span data-start="1225.82" data-end="1227.695">Is anybody using most of these in production?</span> <span data-start="1227.695" data-end="1231.79">And one example of a company that is, is Tinder Web.</span> <span data-start="1231.79" data-end="1233.593">So Tinder Web and Tinder Lite are</span> <span data-start="1233.593" data-end="1235.51">using a number of these patterns in production</span> <span data-start="1235.51" data-end="1237.85">to keep the experience fast for everyone.</span> <span data-start="1237.85" data-end="1241.81">If a user is on a slow network or has Data Saver enabled,</span> <span data-start="1241.81" data-end="1246.07">they disable video autoplays, they limit route prefetching — </span> <span data-start="1246.07" data-end="1248.83">so prefetching the additional routes the user might navigate</span> <span data-start="1248.83" data-end="1250.323">to across the experience — </span> <span data-start="1250.323" data-end="1251.74">and they're also able to do things</span> <span data-start="1251.74" data-end="1254.73">like limit loading the next image in the carousel.</span> </p>
<p><span data-start="1254.73" data-end="1257.89">So they just load one at a time when you're swiping.</span> <span data-start="1257.89" data-end="1260.8">They've seen some really great stats off the back of this — </span> <span data-start="1260.8" data-end="1263.87">great improvements and things like average swipe count.</span> <span data-start="1263.87" data-end="1266.89">So for Tinder Lite, they saw 7% more swipes</span> <span data-start="1266.89" data-end="1268.883">in areas like Indonesia, [INAUDIBLE]</span> <span data-start="1268.883" data-end="1270.175">of using some of these signals.</span> <span data-start="1272.79" data-end="1275.37">And finally, we've got adaptive capability toggling.</span> <span data-start="1275.37" data-end="1279.27">Now, this idea that instead of serving</span> <span data-start="1279.27" data-end="1281.282">animations down to all of our users,</span> <span data-start="1281.282" data-end="1282.99">for people who are on lower-end hardware,</span> <span data-start="1282.99" data-end="1285.81">maybe we consider not shipping those animations at all,</span> <span data-start="1285.81" data-end="1289.15">or throttling the frame rate in some way.</span> <span data-start="1289.15" data-end="1291.48">So what we're going to do is demonstrate</span> <span data-start="1291.48" data-end="1292.81">using this with Client Hints.</span> </p>
<p><span data-start="1292.81" data-end="1294.87">Now, Client Hints are something I've mentioned a little bit</span> <span data-start="1294.87" data-end="1296.037">in other parts of this talk.</span> <span data-start="1296.037" data-end="1299.07">But they're a mechanism for proactive content negotiation.</span> <span data-start="1299.07" data-end="1302.49">The client advertises a set of hints via HTTP request headers.</span> <span data-start="1302.49" data-end="1303.93">And the server provides hints that</span> <span data-start="1303.93" data-end="1305.97">adapt to the serve resource.</span> <span data-start="1305.97" data-end="1309.25">They can be extended to a number of different use cases.</span> <span data-start="1309.25" data-end="1311.91">Now, one of them is helping automate the negotiation</span> <span data-start="1311.91" data-end="1314.37">of optimal resources based on the client's Data Saver</span> <span data-start="1314.37" data-end="1315.36">preferences.</span> <span data-start="1315.36" data-end="1318.93">And I've got a quick demo using Next.js and Client</span> <span data-start="1318.93" data-end="1321.27">Hints I'm going to switch to right now just to show</span> <span data-start="1321.27" data-end="1323.08">you this idea in action.</span> <span data-start="1323.08" data-end="1326.28">So here, we've got adaptive animation.</span> </p>
<p><span data-start="1326.28" data-end="1328.945">Imagine that we've got a blog site or an e-commerce site</span> <span data-start="1328.945" data-end="1331.32">of some sort, where we've got a number of different cards</span> <span data-start="1331.32" data-end="1332.41">worth of content.</span> <span data-start="1332.41" data-end="1336.24">Now, me on my high-end device, lots of memory — </span> <span data-start="1336.24" data-end="1338.49">I can probably handle things like nice navigation</span> <span data-start="1338.49" data-end="1340.83">transitions pretty OK.</span> <span data-start="1340.83" data-end="1342.96">And they look relatively smooth.</span> <span data-start="1342.96" data-end="1345.54">But if I'm on a low-end device, I've tested this out</span> <span data-start="1345.54" data-end="1348.72">on Moto G-Force, you can end up with pretty choppy experiences.</span> <span data-start="1348.72" data-end="1351.33">Maybe it doesn't make sense to animate on those devices</span> <span data-start="1351.33" data-end="1351.995">instead.</span> <span data-start="1351.995" data-end="1353.37">So one thing we can do is, we can</span> <span data-start="1353.37" data-end="1357">simulate all of those conditions that Client Hints allow</span> <span data-start="1357" data-end="1358">us to do.</span> <span data-start="1358" data-end="1360.42">And if I now try transitioning, I</span> <span data-start="1360.42" data-end="1363.653">just get a very simple, basic navigation,</span> <span data-start="1363.653" data-end="1365.07">the same type you're probably used</span> <span data-start="1365.07" data-end="1367.54">to seeing in many single-page applications.</span> </p>
<p><span data-start="1367.54" data-end="1370.83">But we're still able to give everybody an experience</span> <span data-start="1370.83" data-end="1373.63">that best suits their hardware and network characteristics</span> <span data-start="1373.63" data-end="1374.83">in these cases.</span> <span data-start="1374.83" data-end="1377.13">So I'm really excited about that.</span> <span data-start="1377.13" data-end="1379.63">Now, I'm going to invite Nate to the stage in just a second.</span> <span data-start="1379.63" data-end="1382.32">He's going to talk a little bit about how Facebook uses</span> <span data-start="1382.32" data-end="1383.573">these patterns in production.</span> <span data-start="1383.573" data-end="1384.99">And one of the areas that we don't</span> <span data-start="1384.99" data-end="1386.907">have a great solution for on the platform just</span> <span data-start="1386.907" data-end="1389.352">yet is this idea of device class detection.</span> </p>
<p><span data-start="1389.352" data-end="1391.56">So you might have noticed across some of these ideas,</span> <span data-start="1391.56" data-end="1393.18">we've been basically bucketing things</span> <span data-start="1393.18" data-end="1397.47">into you're on a slow device, or you're on a fast device,</span> <span data-start="1397.47" data-end="1399.818">you're in a slow network, you're in a fast network.</span> <span data-start="1399.818" data-end="1402.36">Now, one thing we could do to build like an ultimate solution</span> <span data-start="1402.36" data-end="1404.46">around this stuff is have a setup,</span> <span data-start="1404.46" data-end="1406.8">where we're taking a look at the user-agent string,</span> <span data-start="1406.8" data-end="1409.53">determining what is the hardware we think you're on?</span> <span data-start="1409.53" data-end="1412.08">We could connect that up to Geekbench performance data.</span> <span data-start="1412.08" data-end="1415.17">And then, we could decide based on thresholds,</span> <span data-start="1415.17" data-end="1418.5">is the combination of your RAM, your CPU, and your CPU score</span> <span data-start="1418.5" data-end="1421.09">considered low-end or high-end?</span> <span data-start="1421.09" data-end="1423.21">Now, this is very difficult to duct tape together</span> <span data-start="1423.21" data-end="1426.57">in a way that makes a lot of convenience today.</span> <span data-start="1426.57" data-end="1428.905">But I'm really excited, actually,</span> <span data-start="1428.905" data-end="1430.53">for Nate to talk a little bit about how</span> </p>
<p><span data-start="1430.53" data-end="1433.45">Facebook tackles this problem in a little better ways.</span> <span data-start="1433.45" data-end="1436.314">So please join me in welcoming to stage Nate.</span> <span data-start="1436.314" data-end="1437.736">[APPLAUSE]</span> </p>
</section>

<section>
<p><span data-start="1442.905" data-end="1444.03"><span class="speaker">Neal Schloss</span>: Thanks, Addy.</span> <span data-start="1444.03" data-end="1447.18">So one thing Facebook recently announced</span> <span data-start="1447.18" data-end="1449.07">is a redesign of the website.</span> <span data-start="1449.07" data-end="1450.313">We're calling this FB5.</span> <span data-start="1450.313" data-end="1452.73">One of the cool things about going through and redesigning</span> <span data-start="1452.73" data-end="1455.43">the site is we've been able to take a lot of the things we've</span> <span data-start="1455.43" data-end="1458.58">learned over the last few years about adaptive loading</span> <span data-start="1458.58" data-end="1460.44">and different types of hardware, and making</span> <span data-start="1460.44" data-end="1462.24">sure the site responds correctly to that,</span> <span data-start="1462.24" data-end="1466.59">and really integrate that into the core of FB5.</span> </p>
<p><span data-start="1466.59" data-end="1468.45">One of the core principles we considered</span> <span data-start="1468.45" data-end="1471.82">when trying to go through and design FB5</span> <span data-start="1471.82" data-end="1475.29">is, we didn't want to just build a site that</span> <span data-start="1475.29" data-end="1477.3">responded based on screen size.</span> <span data-start="1477.3" data-end="1480.33">We wanted to build a site that actually adapted based</span> <span data-start="1480.33" data-end="1482.52">on the user's actual hardware —  so actually</span> <span data-start="1482.52" data-end="1485.52">changing what loaded and how the site ran based</span> <span data-start="1485.52" data-end="1487.89">on what hardware it's on, not merely responding based</span> <span data-start="1487.89" data-end="1489.63">on changes in the screen size.</span> <span data-start="1489.63" data-end="1493.17">There are a few steps that we took to implementing this.</span> <span data-start="1493.17" data-end="1495.09">The first step is, we actually needed</span> <span data-start="1495.09" data-end="1497.94">to define consistent buckets for how we were talking</span> <span data-start="1497.94" data-end="1499.357">about different types of hardware</span> <span data-start="1499.357" data-end="1500.94">and how we were considering a hardware</span> <span data-start="1500.94" data-end="1503.73">classification across the site, across different teams,</span> <span data-start="1503.73" data-end="1506.058">across different products.</span> </p>
<p><span data-start="1506.058" data-end="1507.85">The next step was integrating these buckets</span> <span data-start="1507.85" data-end="1509.05">into all of our logging — </span> <span data-start="1509.05" data-end="1510.64">looking in at our performance logging,</span> <span data-start="1510.64" data-end="1513.61">our general metric collection logging, our engagement</span> <span data-start="1513.61" data-end="1514.3">logging — </span> <span data-start="1514.3" data-end="1517.055">and really making sure we were able to see a holistic picture</span> <span data-start="1517.055" data-end="1519.43">of how things were working based on these different types</span> <span data-start="1519.43" data-end="1520.91">of hardware.</span> <span data-start="1520.91" data-end="1523.27">Next, once we actually can see the full complete picture</span> <span data-start="1523.27" data-end="1525.52">and understand what's going on for different users</span> <span data-start="1525.52" data-end="1527.71">in different situations, we can actually</span> <span data-start="1527.71" data-end="1531.05">adapt loading and change how the site runs, how it loads,</span> <span data-start="1531.05" data-end="1533.89">what happens based on the hardware.</span> <span data-start="1533.89" data-end="1538.26">So on mobile, grouping hardware is not so complicated.</span> <span data-start="1538.26" data-end="1541.278">The mobile UA actually just tells us what this device is.</span> </p>
<p><span data-start="1541.278" data-end="1542.82">And then, there's tons of public data</span> <span data-start="1542.82" data-end="1545.91">sets where you can actually plug in which type of device it is</span> <span data-start="1545.91" data-end="1548.55">and get information about the CPU clock speed,</span> <span data-start="1548.55" data-end="1550.78">how many cores, things like that.</span> <span data-start="1550.78" data-end="1552.63">And then, we can use this predefined concept</span> <span data-start="1552.63" data-end="1553.95">of Year Class.</span> <span data-start="1553.95" data-end="1556.68">Year Class is a very popular framework on Native.</span> <span data-start="1556.68" data-end="1560.67">You can use it basically to figure out in what year</span> <span data-start="1560.67" data-end="1563.62">would this device have been considered groundbreaking.</span> <span data-start="1563.62" data-end="1565.44">So by looking at Year Class, and by looking</span> <span data-start="1565.44" data-end="1569.88">at the public information about a device, and specifically</span> <span data-start="1569.88" data-end="1572.19">what this model is, and how fast it is,</span> <span data-start="1572.19" data-end="1575.4">we're able to have a general way to talk about different devices</span> <span data-start="1575.4" data-end="1577.44">across both the web and Native.</span> <span data-start="1577.44" data-end="1579.67">And that's pretty powerful.</span> <span data-start="1579.67" data-end="1582.69">So on mobile, we can just look up exactly what this device is</span> <span data-start="1582.69" data-end="1586.15">and get all of its hardware and performance information.</span> </p>
<p><span data-start="1586.15" data-end="1588.6">However, in desktop, things aren't so obvious.</span> <span data-start="1588.6" data-end="1590.85">Sure, the user agent tells us all right, is it a Mac?</span> <span data-start="1590.85" data-end="1592.26">Is it a PC?</span> <span data-start="1592.26" data-end="1593.37">Is it 64-bit?</span> <span data-start="1593.37" data-end="1595.65">What browser it is —  most of the time,</span> <span data-start="1595.65" data-end="1597.9">everything is 64-bit nowadays.</span> <span data-start="1597.9" data-end="1600.66">It doesn't really tell us much about the actual hardware</span> <span data-start="1600.66" data-end="1602.98">that the user is on right now.</span> <span data-start="1602.98" data-end="1604.36">So what do we have?</span> <span data-start="1604.36" data-end="1607.23">Well, we have navigator.hardwareConcurrency</span> <span data-start="1607.23" data-end="1609.99">which tells us generally how many CPU cores.</span> <span data-start="1609.99" data-end="1612.96">And many browsers also give us navigator.deviceMemory</span> <span data-start="1612.96" data-end="1614.7">which tells us how much RAM.</span> <span data-start="1614.7" data-end="1618.39">So maybe on desktop, there's a way we can use these two fields</span> <span data-start="1618.39" data-end="1621.09">and figure out some generalized buckets that we</span> <span data-start="1621.09" data-end="1624.75">can apply consistently across different devices</span> <span data-start="1624.75" data-end="1629.8">and different metrics.</span> </p>
<p><span data-start="1629.8" data-end="1631.482">So the first step for doing this is</span> <span data-start="1631.482" data-end="1633.44">to actually log hardware concurrency and device</span> <span data-start="1633.44" data-end="1635.49">memory everywhere.</span> <span data-start="1635.49" data-end="1637.83">Once we actually have these in our tables,</span> <span data-start="1637.83" data-end="1639.81">we can build metrics and understand</span> <span data-start="1639.81" data-end="1642.4">how things are different based on these devices.</span> <span data-start="1642.4" data-end="1645.42">So once we have done that, the next step is actually group</span> <span data-start="1645.42" data-end="1647.22">by hardware concurrency, device memory,</span> <span data-start="1647.22" data-end="1649.428">OS when looking at a different metrics.</span> <span data-start="1649.428" data-end="1651.72">And basically, come up with charts to really understand</span> <span data-start="1651.72" data-end="1653.19">what the full picture is like.</span> <span data-start="1653.19" data-end="1655.95">Once we did this, we start to see natural bands</span> <span data-start="1655.95" data-end="1657.9">for different types of hardware and how</span> <span data-start="1657.9" data-end="1660.155">they're performing and different barriers.</span> <span data-start="1660.155" data-end="1661.53">So at Facebook, once we did this,</span> <span data-start="1661.53" data-end="1665.097">we came up with five different classifications for devices.</span> </p>
<p><span data-start="1665.097" data-end="1666.93">And the heuristics we used for them actually</span> <span data-start="1666.93" data-end="1669.17">vary across different OS and browsers.</span> <span data-start="1669.17" data-end="1671.67">So this is something that we did some analysis to figure out</span> <span data-start="1671.67" data-end="1674.358">where the natural bands were.</span> <span data-start="1674.358" data-end="1676.65">Once we figured out the buckets based on the groupings,</span> <span data-start="1676.65" data-end="1679.14">we're able to apply it deep in our data sets,</span> <span data-start="1679.14" data-end="1680.82">and log it everywhere, and actually</span> <span data-start="1680.82" data-end="1683.34">the consistent way to talk about different performance</span> <span data-start="1683.34" data-end="1685.71">and different device types across different metrics</span> <span data-start="1685.71" data-end="1687.15">and across different teams.</span> <span data-start="1687.15" data-end="1689.76">And this is pretty cool because when integrating performance</span> <span data-start="1689.76" data-end="1691.68">logging, this hardware class reveals</span> <span data-start="1691.68" data-end="1693.138">a much more complete picture.</span> <span data-start="1693.138" data-end="1695.055">We can actually see everything that's going on</span> <span data-start="1695.055" data-end="1697.02">and understand how the experience varies</span> <span data-start="1697.02" data-end="1700.8">for different types of users in different situations much more</span> <span data-start="1700.8" data-end="1702.36">holistically.</span> </p>
<p><span data-start="1702.36" data-end="1705.362">So take, for example, this chart.</span> <span data-start="1705.362" data-end="1707.07">So if you're just looking at the average,</span> <span data-start="1707.07" data-end="1709.44">it looks like basically your performance stayed the same — </span> <span data-start="1709.44" data-end="1711.273">maybe it got slightly worse, but overall, it</span> <span data-start="1711.273" data-end="1713.68">looks like things are fairly consistent in performance.</span> <span data-start="1713.68" data-end="1715.513">But when we break stuff up by hardware type,</span> <span data-start="1715.513" data-end="1717.55">we can see that maybe on the 6th,</span> <span data-start="1717.55" data-end="1720.39">we had an improvement ship for low-end devices.</span> <span data-start="1720.39" data-end="1721.89">However, there is a large regression</span> <span data-start="1721.89" data-end="1723.12">for mid-range devices.</span> <span data-start="1723.12" data-end="1725.01">The way low-end devices and mid-range devices</span> <span data-start="1725.01" data-end="1727.44">are going to load your site is going to be very different.</span> </p>
<p><span data-start="1727.44" data-end="1729.315">Low-end devices are often going to be blocked</span> <span data-start="1729.315" data-end="1732.03">on pricing JavaScript, actually executing the JavaScript</span> <span data-start="1732.03" data-end="1733.175">and execution.</span> <span data-start="1733.175" data-end="1734.55">Well, maybe mid-range, they might</span> <span data-start="1734.55" data-end="1736.938">be blocked in-network or other different bottlenecks.</span> <span data-start="1736.938" data-end="1738.48">The way users interact with your site</span> <span data-start="1738.48" data-end="1741.51">is going to be very different on both types of devices too.</span> <span data-start="1741.51" data-end="1744.75">Low-end users might engage with your site</span> <span data-start="1744.75" data-end="1746.3">in different ways and different spots</span> <span data-start="1746.3" data-end="1747.69">than mid-range users might.</span> </p>
<p><span data-start="1747.69" data-end="1749.49">So you might see your metric shift</span> <span data-start="1749.49" data-end="1752.69">as your mid-range users end up in a slower performance class.</span> <span data-start="1752.69" data-end="1754.59">We won't actually know why.</span> <span data-start="1754.59" data-end="1757.11">So by breaking stuff up by different hardware type,</span> <span data-start="1757.11" data-end="1759">you're actually able to see and pinpoint</span> <span data-start="1759" data-end="1760.568">where your regressions are happening.</span> <span data-start="1760.568" data-end="1762.36">The other thing that this can help you with</span> <span data-start="1762.36" data-end="1763.99">is shifts in user population.</span> <span data-start="1763.99" data-end="1766.02">Let's say, that a low-end device suddenly goes</span> <span data-start="1766.02" data-end="1767.27">on sale in an emerging market.</span> </p>
<p><span data-start="1767.27" data-end="1768.728">And all of a sudden, you have a lot</span> <span data-start="1768.728" data-end="1770.13">of users on your low-end device.</span> <span data-start="1770.13" data-end="1772.11">If you're just looking at the overall average,</span> <span data-start="1772.11" data-end="1774.46">you might think, oh, I have this big regression right now.</span> <span data-start="1774.46" data-end="1776.127">When in reality, there's just more users</span> <span data-start="1776.127" data-end="1778.952">taking advantage of the promotion on a low-end device.</span> <span data-start="1778.952" data-end="1780.66">So by breaking stuff up, you can actually</span> <span data-start="1780.66" data-end="1784.29">see if you're loading consistently or not</span> <span data-start="1784.29" data-end="1786.42">and counteract changes in just populations</span> <span data-start="1786.42" data-end="1789.46">on different types of devices.</span> <span data-start="1789.46" data-end="1793.387">So once we have this core metrics,</span> <span data-start="1793.387" data-end="1794.97">and we're able to break it up and have</span> <span data-start="1794.97" data-end="1797.01">a consistent way in understanding</span> <span data-start="1797.01" data-end="1799.56">of what different types of hardware, we can actually</span> <span data-start="1799.56" data-end="1801.73">consider this in our core frameworks.</span> </p>
<p><span data-start="1801.73" data-end="1805.05">One of the first things we did is we looked at animations.</span> <span data-start="1805.05" data-end="1807.03">Animations take time to render.</span> <span data-start="1807.03" data-end="1808.858">The browser will attempt to paint a frame.</span> <span data-start="1808.858" data-end="1810.9">Then if it cancels, it just throws all that work.</span> <span data-start="1810.9" data-end="1813.21">But every frame the browser is attempting</span> <span data-start="1813.21" data-end="1815.145">to paint something and render an animation,</span> <span data-start="1815.145" data-end="1817.02">it could be doing something else and actually</span> <span data-start="1817.02" data-end="1818.4">helping you load your page.</span> </p>
<p><span data-start="1818.4" data-end="1821.25">So on low-end devices, animations look like this.</span> <span data-start="1821.25" data-end="1822.48">They were somewhat janky.</span> <span data-start="1822.48" data-end="1824.61">They would render like a frame, wait awhile,</span> <span data-start="1824.61" data-end="1825.66">show another frame.</span> </p>
<p><span data-start="1825.66" data-end="1827.1">And eventually, stuff would load.</span> <span data-start="1827.1" data-end="1829.95">But it's not a good experience this kind of animation.</span> <span data-start="1829.95" data-end="1831.78">One of the first things we did is, we just</span> <span data-start="1831.78" data-end="1835.66">stop shipping animations in many instances on low-end devices.</span> <span data-start="1835.66" data-end="1838.05">This enabled many more users to finish loading the page</span> <span data-start="1838.05" data-end="1839.425">and actually engage with the site</span> <span data-start="1839.425" data-end="1841.797">much more because they already weren't</span> <span data-start="1841.797" data-end="1843.63">getting much benefit from the animation that</span> <span data-start="1843.63" data-end="1844.89">wasn't really loading.</span> </p>
<p><span data-start="1844.89" data-end="1847.31">And now, that wasted work is no longer happening.</span> <span data-start="1847.31" data-end="1851.32">And they're actually able to see the page much quicker.</span> <span data-start="1851.32" data-end="1853.68">Another thing we do is on our mobile website.</span> <span data-start="1853.68" data-end="1856.14">Our mobile website we have a totally different site</span> <span data-start="1856.14" data-end="1860">for Android phones and iPhones that have touch</span> <span data-start="1860" data-end="1863.73">screens and have powerful CPUs that</span> <span data-start="1863.73" data-end="1866.37">can run a lot of JavaScript versus feature phones</span> <span data-start="1866.37" data-end="1868.92">that maybe don't have as many powerful CPUs</span> <span data-start="1868.92" data-end="1870.93">and can't run JavaScript as well.</span> <span data-start="1870.93" data-end="1874.89">Our feature phone site is mostly static HTML, a little bit</span> <span data-start="1874.89" data-end="1876.78">of CSS, very few images.</span> <span data-start="1876.78" data-end="1880.11">It's really optimized for this low-powered device case.</span> <span data-start="1880.11" data-end="1882.032">Even the feature phone screen is big,</span> <span data-start="1882.032" data-end="1883.99">even when the feature phone has a touch screen,</span> <span data-start="1883.99" data-end="1886.2">this is an instance where we're not just scaling the site based</span> <span data-start="1886.2" data-end="1888.45">on screen size, we actually have two totally different</span> <span data-start="1888.45" data-end="1890.82">experiences based on the underlying hardware</span> <span data-start="1890.82" data-end="1894.67">and really optimized for that hardware.</span> </p>
<p><span data-start="1894.67" data-end="1897.25">One of the cool things we're doing too and especially</span> <span data-start="1897.25" data-end="1900.58">on the FB5 site is we're actually</span> <span data-start="1900.58" data-end="1904.24">taking advantage of the fact that there is this trade-off</span> <span data-start="1904.24" data-end="1907.21">right now on the web between loading quickly and responding</span> <span data-start="1907.21" data-end="1908.53">quickly.</span> <span data-start="1908.53" data-end="1910.27">When you're loading your site, often, you</span> <span data-start="1910.27" data-end="1912.16">get advice to chunk up your JavaScript that's</span> <span data-start="1912.16" data-end="1914.035">needed to load the site into different chunks</span> <span data-start="1914.035" data-end="1916.248">and yield to the browser in between each chunk,</span> <span data-start="1916.248" data-end="1918.54">so the browser can dispatch any events that may happen.</span> <span data-start="1918.54" data-end="1919.96">So if the user clicks on something,</span> <span data-start="1919.96" data-end="1922.543">you don't actually have to wait for the entire load to finish.</span> <span data-start="1922.543" data-end="1925.038">You can respond to that event as soon as the click happens.</span> <span data-start="1925.038" data-end="1927.58">On high-end devices, yielding to the browser after each chunk</span> <span data-start="1927.58" data-end="1928.855">is fairly cheap.</span> </p>
<p><span data-start="1928.855" data-end="1930.73">The browser will quickly see there's no event</span> <span data-start="1930.73" data-end="1932.578">and just go back to running your JavaScript.</span> <span data-start="1932.578" data-end="1934.87">However, on low-end devices, this can be somewhat slow.</span> <span data-start="1934.87" data-end="1936.675">And it can often take quite a bit of time.</span> </p>
<p><span data-start="1936.675" data-end="1938.05">So there's a trade-off right now,</span> <span data-start="1938.05" data-end="1941.07">where you want to chunk up your JavaScript into small chunks.</span> <span data-start="1941.07" data-end="1943.325">But on low-end devices, if you make too small chunks,</span> <span data-start="1943.325" data-end="1945.7">you're actually going to slow down the overall experience</span> <span data-start="1945.7" data-end="1948.39">by quite a bit.</span> <span data-start="1948.39" data-end="1950.78">So one thing we have been able to do</span> <span data-start="1950.78" data-end="1953.39">is on —  in React in current mode that Addy</span> <span data-start="1953.39" data-end="1956.48">talked about earlier, one of the core things</span> <span data-start="1956.48" data-end="1957.92">is this concept of a scheduler.</span> <span data-start="1957.92" data-end="1959.39">This is an experimental API.</span> <span data-start="1959.39" data-end="1961.68">It's almost definitely going to change.</span> <span data-start="1961.68" data-end="1963.153">But one thing we're doing right now</span> <span data-start="1963.153" data-end="1964.82">is if it's on a low-end device, Schedule</span> <span data-start="1964.82" data-end="1966.95">has this concept of forcing a frame rate.</span> </p>
<p><span data-start="1966.95" data-end="1968.51">Generally, Scheduler and React is</span> <span data-start="1968.51" data-end="1970.19">going to try to schedule each frame</span> <span data-start="1970.19" data-end="1972.023">and run it whatever the browser is currently</span> <span data-start="1972.023" data-end="1975.265">running at —  so 60 FPS, 30 FPS, something like that.</span> <span data-start="1975.265" data-end="1976.64">However, by forcing a frame rate,</span> <span data-start="1976.64" data-end="1978.56">we're able to basically tell React, all right,</span> <span data-start="1978.56" data-end="1980.602">ignored what the browser's trying to do right now</span> <span data-start="1980.602" data-end="1982.04">and just take longer.</span> <span data-start="1982.04" data-end="1986">Run it 15 FPS and actually run more JavaScript each frame.</span> <span data-start="1986" data-end="1988.52">So the user can actually load more of the site</span> <span data-start="1988.52" data-end="1990.21">before we check for each event.</span> </p>
<p><span data-start="1990.21" data-end="1993.013">So yes, some events interactions become slightly slower.</span> <span data-start="1993.013" data-end="1995.18">But overall, it's a much better experience for users</span> <span data-start="1995.18" data-end="1997.79">because most users are just waiting for your site to load.</span> <span data-start="1997.79" data-end="2001.13">And this can happen now much, much quicker.</span> <span data-start="2001.13" data-end="2003.85">One interesting thing here too is that hopefully, eventually,</span> <span data-start="2003.85" data-end="2006.34">this trade-off goes away altogether with this new API</span> <span data-start="2006.34" data-end="2007.75">isInputPending.</span> </p>
<p><span data-start="2007.75" data-end="2009.4">Eventually, we hope is isInputPending</span> <span data-start="2009.4" data-end="2010.81">will ship everywhere.</span> <span data-start="2010.81" data-end="2012.31">And it'll just be a quick, cheap way</span> <span data-start="2012.31" data-end="2014.44">to check is their input right now.</span> <span data-start="2014.44" data-end="2015.94">So then, this trade-off will be gone</span> <span data-start="2015.94" data-end="2018.34">because we can just run all of our JavaScript during loading.</span> <span data-start="2018.34" data-end="2020.215">And we don't actually have to block stuff up.</span> <span data-start="2020.215" data-end="2021.55">We can still be interactive.</span> </p>
<p><span data-start="2021.55" data-end="2023.95">Hopefully, this gets integrated into React too.</span> <span data-start="2023.95" data-end="2026.74">So if you're using the latest React, once this ships,</span> <span data-start="2026.74" data-end="2029.55">you should be able to get this for free.</span> <span data-start="2029.55" data-end="2031.223">So by using consistent definitions</span> <span data-start="2031.223" data-end="2032.64">for our bucketing and our logging,</span> <span data-start="2032.64" data-end="2035.37">and adapting based on those definitions consistently,</span> <span data-start="2035.37" data-end="2038.19">we're actually able to share this understanding of how</span> <span data-start="2038.19" data-end="2041.22">the site works across different teams, across different orgs,</span> <span data-start="2041.22" data-end="2043.72">and really figure out what is this overall picture</span> <span data-start="2043.72" data-end="2044.47">that we're seeing.</span> <span data-start="2044.47" data-end="2047.19">So when metrics change based on something one team does,</span> <span data-start="2047.19" data-end="2049.98">we know that it's based on this consistent hardware definition.</span> </p>
<p><span data-start="2049.98" data-end="2052.409">And it's a lot easier to pinpoint changes and see</span> <span data-start="2052.409" data-end="2053.909">what's going on.</span> <span data-start="2053.909" data-end="2057.451">Now, I'm going to invite Addy back to take it home.</span> <span data-start="2057.451" data-end="2058.882">[APPLAUSE]</span> </p>
</section>

<section>
<p><span data-start="2061.744" data-end="2064.005"><span class="speaker">Addy Osmani</span>: Thank you, Nate.</span> <span data-start="2064.005" data-end="2067.88">I had some better network service in the back.</span> <span data-start="2067.88" data-end="2070.37">So that's it for adaptive loading.</span> <span data-start="2070.37" data-end="2074.6">Today, we talked about adaptive media loading, code serving,</span> <span data-start="2074.6" data-end="2076.04">data fetching.</span> <span data-start="2076.04" data-end="2079.159">In general, a lot of these ideas have got some promise.</span> <span data-start="2079.159" data-end="2080.6">And we're very excited about them.</span> <span data-start="2080.6" data-end="2083.27">They do have some potential drawbacks</span> <span data-start="2083.27" data-end="2085.489">that are worth being aware of.</span> <span data-start="2085.489" data-end="2087.469">Adaptive loading does use this idea</span> <span data-start="2087.469" data-end="2090.32">of often point-in-time information about the user's</span> <span data-start="2090.32" data-end="2092.87">device and network constraints.</span> </p>
<p><span data-start="2092.87" data-end="2094.663">And you do want to keep in mind like what</span> <span data-start="2094.663" data-end="2096.08">impact is going that going to have</span> <span data-start="2096.08" data-end="2098.01">on things like HTTP caching.</span> <span data-start="2098.01" data-end="2101.17">So just be very careful with adopting these techniques.</span> <span data-start="2101.17" data-end="2102.92">I do think they can have a lot of promise.</span> <span data-start="2102.92" data-end="2106.58">But that nuance is probably useful to talk about as well.</span> <span data-start="2106.58" data-end="2110.55">And adaptive loading isn't this groundbreaking, huge thing,</span> <span data-start="2110.55" data-end="2111.05">right?</span> <span data-start="2111.05" data-end="2113.515">It's an incremental practice.</span> <span data-start="2113.515" data-end="2114.89">Over many, many years, we've been</span> <span data-start="2114.89" data-end="2117.86">talking about this idea of trying to increasingly become</span> <span data-start="2117.86" data-end="2120.06">more lazy first with our content.</span> <span data-start="2120.06" data-end="2121.55">And so adaptive loading is really</span> <span data-start="2121.55" data-end="2124.2">just an incremental pattern on top of those things.</span> </p>
<p><span data-start="2124.2" data-end="2126.47">And so in general, even if you take nothing else away</span> <span data-start="2126.47" data-end="2129.29">from this talk, try to reduce, defer, and coalesce</span> <span data-start="2129.29" data-end="2132.02">the resources that you're serving down to your users.</span> <span data-start="2132.02" data-end="2135.29">Ultimately, what we're trying to do with these patterns</span> <span data-start="2135.29" data-end="2140.7">is build experiences that have inclusivity in mind.</span> <span data-start="2140.7" data-end="2142.28">Though the core experience ideally</span> <span data-start="2142.28" data-end="2145.73">that works great for everybody and toggle or layer</span> <span data-start="2145.73" data-end="2147.53">on features that can make it even more</span> <span data-start="2147.53" data-end="2152.46">awesome if a user has enough memory, CPU, or a fast network.</span> <span data-start="2152.46" data-end="2154.22">So that's it for adaptive loading.</span> <span data-start="2154.22" data-end="2155.03">Thank you.</span> <span data-start="2155.03" data-end="2155.93">[APPLAUSE]</span> <span data-start="2155.93" data-end="2158.38">[MUSIC PLAYING]</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
