<!DOCTYPE html>

<!--
Copyright 2018 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="Chrome Dev Summit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>5_Ns2xfBMLw</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/5_Ns2xfBMLw?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p><span data-start="0" data-end="3.395">[MUSIC PLAYING]</span> </p>
</section>

<section>
<p><span data-start="8.25" data-end="10.32"><span class="speaker">Paul Lewis</span>: And as we evolve our metrics story,</span> <span data-start="10.32" data-end="12.99">we want to fill in as many gaps of our measurement of user</span> <span data-start="12.99" data-end="14.91">experience as we can.</span> <span data-start="14.91" data-end="17.41">There are a few major shifts here that I'd like to call out.</span> <span data-start="17.41" data-end="19.44">The first one is the reduced emphasis</span> <span data-start="19.44" data-end="22.14">on first meaningful paint and first CPU idle.</span> <span data-start="22.14" data-end="24.75">We're excited to have metrics available that better</span> <span data-start="24.75" data-end="27.84">capture when a page feels usable, which leads me</span> <span data-start="27.84" data-end="30.36">to the second major call-out, which is the new metrics you</span> <span data-start="30.36" data-end="30.96">see added.</span> <span data-start="30.96" data-end="34.02">So largest contentful paint, total blocking time,</span> <span data-start="34.02" data-end="36.75">and cumulative layout shift are all out and available.</span> <span data-start="36.75" data-end="38.61">These new metrics help to fill some</span> <span data-start="38.61" data-end="40.47">of the gaps in our measurement story.</span> </p>
<p><span data-start="40.47" data-end="42.45">For instance, when time to interactive</span> <span data-start="42.45" data-end="45.84">does a good job of identifying when the main thread calms down</span> <span data-start="45.84" data-end="47.85">later in load, total blocking time</span> <span data-start="47.85" data-end="50.7">aims to quantify how strained the main thread is</span> <span data-start="50.7" data-end="51.65">throughout the load.</span> </p>
</section>

<section>
<p><span data-start="51.65" data-end="53.4"><span class="speaker">Timothy Jordan</span>: Pretty much all the lab metrics</span> <span data-start="53.4" data-end="55.41">are available in Lighthouse.</span> <span data-start="55.41" data-end="57.883">First input delay only really makes sense in the field.</span> <span data-start="57.883" data-end="59.55">So then, when it comes to field metrics,</span> <span data-start="59.55" data-end="62.7">you can see most of them are available in Chrome UX Support.</span> <span data-start="62.7" data-end="64.6">Other than you can collect yourself</span> <span data-start="64.6" data-end="65.85">with the Performance Observer.</span> <span data-start="65.85" data-end="68.475">And you can check out, actually, the documentation for all this</span> <span data-start="68.475" data-end="70.122">in web.dev/metrics.</span> </p>
</section>

<section>
<p><span data-start="70.122" data-end="71.58"><span class="speaker">Paul Lewis</span>: Thank goodness, gone are</span> <span data-start="71.58" data-end="74.163">the days where you're having to toggle and compare between two</span> <span data-start="74.163" data-end="77.37">Lighthouse reports side-by-side trying to find the differences,</span> <span data-start="77.37" data-end="79.343">and you're actually able to see the diff view.</span> <span data-start="79.343" data-end="81.51">Now, you can see the changes between the two reports</span> <span data-start="81.51" data-end="82.83">in a single view.</span> <span data-start="82.83" data-end="87.575">So we are launching the 0.3 alpha of Lighthouse CI today,</span> <span data-start="87.575" data-end="89.7">and you can check it out in the repo and set it up.</span> <span data-start="89.7" data-end="91.23">Please let us know what you think of it.</span> <span data-start="91.23" data-end="93.69">It is early stages, and we definitely want your feedback.</span> <span data-start="93.69" data-end="96.39">[MUSIC PLAYING]</span> </p>
</section>

<section>
<p><span data-start="96.39" data-end="98.7"><span class="speaker">Speaker 3</span>: A user's hardware and their network type</span> <span data-start="98.7" data-end="100.86">can massively impact the experience that they're</span> <span data-start="100.86" data-end="102.95">going to have with your site.</span> <span data-start="102.95" data-end="105.45">Now, there are three or four key signals</span> <span data-start="105.45" data-end="107.92">we'll be looking at for adaptive loading today.</span> <span data-start="107.92" data-end="110.22">First of all, we've got network for fine-tuning things</span> <span data-start="110.22" data-end="113.01">like data transfer to use less bandwidth.</span> <span data-start="113.01" data-end="115.62">We've got memory for reducing the amount of memory</span> <span data-start="115.62" data-end="118.59">consumption on low-end devices, CPU,</span> <span data-start="118.59" data-end="121.11">for limiting costly Javascript execution,</span> <span data-start="121.11" data-end="123.18">and reducing CPU-intensive logic.</span> <span data-start="123.18" data-end="125.28">To make all of this easier, today, we're</span> <span data-start="125.28" data-end="129.57">releasing a new experimental set of React hooks</span> <span data-start="129.57" data-end="132.39">for adaptive loading that you can go and check out.</span> </p>
<p><span data-start="132.39" data-end="135.64">Adaptive module serving is something I'm excited about.</span> <span data-start="135.64" data-end="138.3">And this is this idea of shipping a light,</span> <span data-start="138.3" data-end="141.54">interactive core experience to all of your users</span> <span data-start="141.54" data-end="144.97">and progressively adding high-end features on top — </span> <span data-start="144.97" data-end="147.78">so if a user's device characteristics and network</span> <span data-start="147.78" data-end="148.83">can handle it.</span> </p>
<p><span data-start="148.83" data-end="150.33">Now, it's this device awareness that</span> <span data-start="150.33" data-end="152.86">takes progressive enhancement to the next step.</span> </p>
</section>

<section>
<p><span data-start="152.86" data-end="155.7"><span class="speaker">Speaker 4</span>: Well, we have navigator.hardwareConcurrency,</span> <span data-start="155.7" data-end="158.49">which tells us generally how many CPU cores.</span> <span data-start="158.49" data-end="161.43">And many browsers also give us navigator.deviceMemory,</span> <span data-start="161.43" data-end="163.2">which tells us how much RAM.</span> <span data-start="163.2" data-end="166.89">So maybe, on desktop, there's a way we can use these two fields</span> <span data-start="166.89" data-end="169.56">and figure out some generalized buckets that we</span> <span data-start="169.56" data-end="172.77">can apply consistently across different devices</span> <span data-start="172.77" data-end="174.66">and different metrics.</span> <span data-start="174.66" data-end="177.103">Once we have this core — </span> <span data-start="177.103" data-end="179.52">this core metrics —  and we're able to break it up and have</span> <span data-start="179.52" data-end="181.86">a consistent way and understanding of what</span> <span data-start="181.86" data-end="184.5">different types of hardware, we can actually consider</span> <span data-start="184.5" data-end="186.168">this in our core frameworks.</span> </p>
</section>

<section>
<p><span data-start="186.168" data-end="188.46"><span class="speaker">Speaker 5</span>: We're in close contact with the Angular team</span> <span data-start="188.46" data-end="192.39">and really excited for their achievements on both UX and DX.</span> <span data-start="192.39" data-end="194.79">In particular, they shared differential loading,</span> <span data-start="194.79" data-end="197.61">which reduces polyfill in modern browsers,</span> <span data-start="197.61" data-end="199.65">and they have automatic deployments</span> <span data-start="199.65" data-end="202.47">to different platforms, to name a couple of things.</span> <span data-start="202.47" data-end="203.94">Also, Dion mentioned in the keynote</span> <span data-start="203.94" data-end="206.07">that we have funded a number of projects</span> <span data-start="206.07" data-end="207.15">with the Framework Fund.</span> </p>
<p><span data-start="207.15" data-end="209.34">We'll have funding again next year.</span> <span data-start="209.34" data-end="211.92">So if you are playing a role in the framework ecosystem,</span> <span data-start="211.92" data-end="215.49">providing something of value, please apply for funding.</span> <span data-start="215.49" data-end="217.98">At Google I/O, I mentioned that we kicked off</span> <span data-start="217.98" data-end="222.6">an effort in the space directly collaborating with NextJS.</span> </p>
<p><span data-start="222.6" data-end="225.4">In particular, we are starting with performance improvements</span> <span data-start="225.4" data-end="228.6">first, both because this is an important problem needing</span> <span data-start="228.6" data-end="232.38">attention, but also, it wasn't overlapping with other efforts.</span> </p>
</section>

<section>
<p><span data-start="232.38" data-end="235.23"><span class="speaker">Speaker 6</span>: Sum Up, another major NextJS site</span> <span data-start="235.23" data-end="236.99">that we tested our chunking strategy on,</span> <span data-start="236.99" data-end="241.2">saw a reduction of their largest JavaScript bundle by 64%.</span> <span data-start="241.2" data-end="243.39">And again, the amazing thing about these changes</span> <span data-start="243.39" data-end="246.63">is that it involved no actual change to the user's code</span> <span data-start="246.63" data-end="248.11">whatsoever.</span> <span data-start="248.11" data-end="249.72">This is all by just turning a flag</span> <span data-start="249.72" data-end="253.41">on that changed the chunking strategy to use our newer,</span> <span data-start="253.41" data-end="255.33">granular approach.</span> </p>
<p><span data-start="255.33" data-end="258.209">Today, we're excited to introduce a new Babel</span> <span data-start="258.209" data-end="263.02">preset that optimizes specifically for this case.</span> <span data-start="263.02" data-end="265.12">It's called Babel Preset Modules,</span> <span data-start="265.12" data-end="268">and it's available on npm right now.</span> <span data-start="268" data-end="271.08">But running the same code through preset-modules</span> <span data-start="271.08" data-end="272.68">produces this.</span> <span data-start="272.68" data-end="275.49">It's a lot smaller.</span> <span data-start="275.49" data-end="279.22">Here's the thing —  both outputs run in all browsers that</span> <span data-start="279.22" data-end="281.088">support script-type modules.</span> </p>
</section>

<section>
<p><span data-start="281.088" data-end="283.38"><span class="speaker">Speaker 7</span>: So these sort of things that we're currently</span> <span data-start="283.38" data-end="287.82">working on to help you with building more scalable web</span> <span data-start="287.82" data-end="288.61">applications.</span> <span data-start="288.61" data-end="290.46">So one of them is translations.</span> <span data-start="290.46" data-end="291.61">Then there's unit testing.</span> <span data-start="291.61" data-end="293.16">So unit testing, integration testing,</span> <span data-start="293.16" data-end="294.25">is a really broad topic.</span> <span data-start="294.25" data-end="296.91">Also, there's image handling.</span> <span data-start="296.91" data-end="300.24">So images that make up a large percentage of what</span> <span data-start="300.24" data-end="302.16">you show on the website, right?</span> </p>
<p><span data-start="302.16" data-end="305.55">But we don't provide an opinionated way to load images,</span> <span data-start="305.55" data-end="306.24">currently.</span> <span data-start="306.24" data-end="308.52">So that means that it's really easy to include</span> <span data-start="308.52" data-end="309.938">images that are too large.</span> <span data-start="309.938" data-end="310.73">There is analytics.</span> </p>
<p><span data-start="310.73" data-end="313.5">And analytics is something that you all probably use</span> <span data-start="313.5" data-end="315.81">in a website, at least, because you</span> <span data-start="315.81" data-end="318.85">want to know what your users are doing on a page.</span> <span data-start="318.85" data-end="321.06">However, to correctly implement and relay</span> <span data-start="321.06" data-end="324.36">analytics in single-page applications is really hard.</span> <span data-start="324.36" data-end="325.71">There's error reporting.</span> <span data-start="325.71" data-end="327.81">You probably all have written bugs before,</span> <span data-start="327.81" data-end="332.43">and it's really hard to catch bugs in production in websites</span> <span data-start="332.43" data-end="336.09">because it runs on a browser that is not your own browser,</span> <span data-start="336.09" data-end="339.63">and because of that, you can't see what users are doing.</span> <span data-start="339.63" data-end="342.24">So error reporting is very important in that way.</span> <span data-start="342.24" data-end="344.37">So relaying errors that happen it's</span> <span data-start="344.37" data-end="346.2">going to be easier very soon, too.</span> <span data-start="346.2" data-end="348.305">[MUSIC PLAYING]</span> </p>
</section>

<section>
<p><span data-start="348.305" data-end="350.68"><span class="speaker">Speaker 8</span>: Let's walk through, step-by-step, what Portals</span> <span data-start="350.68" data-end="352.49">could do.</span> <span data-start="352.49" data-end="356.42">Let's say you have a page, say foo.html, all blue.</span> <span data-start="356.42" data-end="358.22">Super nice with this foo blue background,</span> <span data-start="358.22" data-end="360.4">and having foo.html in the center.</span> <span data-start="360.4" data-end="362.75">And you also have another page, bar.html,</span> <span data-start="362.75" data-end="364.308">which is pretty similar to foo.html,</span> <span data-start="364.308" data-end="366.35">but having a different color and a different URL.</span> <span data-start="366.35" data-end="369.35">We'll use these two pages to see what Portals could do.</span> <span data-start="369.35" data-end="372.093">You would first want to check if your browser supports Portals.</span> <span data-start="372.093" data-end="373.76">As you all know, progressive enhancement</span> <span data-start="373.76" data-end="375.26">is very important, because we don't</span> <span data-start="375.26" data-end="378.38">want to break any experience in non-supportied browsers.</span> <span data-start="378.38" data-end="379.85">You could check if the HTML Portal</span> <span data-start="379.85" data-end="383.05">element is in the global window object to achieve this.</span> </p>
<p><span data-start="383.05" data-end="384.77">Next, let's create a Portal element</span> <span data-start="384.77" data-end="387.92">by document.createElement, setting the source attribute</span> <span data-start="387.92" data-end="391.55">as bar.html, and adding some styles of our own,</span> <span data-start="391.55" data-end="393.92">and lastly, adding the element to the document.</span> <span data-start="393.92" data-end="397.86">And boom, you'll see bar.html embedded in the page.</span> <span data-start="397.86" data-end="399.56">So as you can see, Portals really</span> <span data-start="399.56" data-end="401.36">makes the loading experience disappear.</span> </p>
<p><span data-start="401.36" data-end="402.47">You don't need to wait for the page</span> <span data-start="402.47" data-end="404.18">to render anymore because it's already</span> <span data-start="404.18" data-end="405.862">rendered inside the portal.</span> <span data-start="405.862" data-end="408.32">Like I mentioned, Portals has nothing to do with animation,</span> <span data-start="408.32" data-end="409.88">but you can always animate the Portal</span> <span data-start="409.88" data-end="411.89">to make the transition smooth.</span> </p>
<p><span data-start="411.89" data-end="414.35">It could be using keyframes or JavaScript to move around</span> <span data-start="414.35" data-end="416.017">the element, but in this case, let's say</span> <span data-start="416.017" data-end="418.672">we animated the element with CSS transitions.</span> </p>
</section>

<section>
<p><span data-start="418.672" data-end="421.13"><span class="speaker">Speaker 9</span>: All right to close, we've talked about four APIs</span> <span data-start="421.13" data-end="422.07">today.</span> <span data-start="422.07" data-end="423.74">The first one, Portal, which is designed</span> <span data-start="423.74" data-end="426.412">to enable instant and seamless navigation.</span> <span data-start="426.412" data-end="428.12">Periodic Backgroud Sync, this is designed</span> <span data-start="428.12" data-end="431.03">to get content ahead of time on the device</span> <span data-start="431.03" data-end="433.1">so that you don't have to worry about connection.</span> </p>
<p><span data-start="433.1" data-end="435.35">Content Indexing —  this one is about surfacing</span> <span data-start="435.35" data-end="437.66">the content that's available on the device,</span> <span data-start="437.66" data-end="440.87">and it's going to be available in Origin trials soon.</span> <span data-start="440.87" data-end="443.6">And last but not least, Web Bundles —  so this</span> <span data-start="443.6" data-end="446.45">is a convenient format to enable discovery and distribution.</span> <span data-start="446.45" data-end="448.6">[MUSIC PLAYING]</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
