<!DOCTYPE html>

<!--
Copyright 2018 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="//google.com">
  <meta name="description" content="Chrome Dev Summit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>l8mCutUMh78</title>
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<iframe id="youtube" src="https://www.youtube.com/embed/l8mCutUMh78?enablejsapi=1"></iframe>

<div id="container">

<div id="options">
  <div id="google-translate"></div>
  <div>
    <input type="checkbox" id="videoSticky" checked>
    <label for="videoSticky">Video position sticky</label>
  </div>
  <div>
    <input type="checkbox" id="captionScroll" checked>
    <label for="captionScroll">Keep current caption visible</label>
  </div>
</div>

<section>
<p></p>
</section>

<section>
<p><span data-start="0.5" data-end="1.99"><span class="speaker">Minko Gechev</span>: Hello, everyone.</span> <span data-start="1.99" data-end="3.14">My name is Minko Gechev.</span> <span data-start="3.14" data-end="5.37">I'm a senior developer programs engineer</span> <span data-start="5.37" data-end="7.3">in the Angular team at Google.</span> <span data-start="7.3" data-end="9.51">Today, I'm going to show you a couple of tools</span> <span data-start="9.51" data-end="12.87">that we have been working on to help you build fast Angular</span> <span data-start="12.87" data-end="14.59">applications.</span> </p>
<p><span data-start="14.59" data-end="16.2">In the presentation today, we're going</span> <span data-start="16.2" data-end="18.99">to look into an existing app and optimize it</span> <span data-start="18.99" data-end="21.46">by going through three steps.</span> <span data-start="21.46" data-end="24.18">First, we will introduce code splitting.</span> <span data-start="24.18" data-end="26.25">After that, bundle preloading.</span> <span data-start="26.25" data-end="29.01">And finally, we will deploy the app to production</span> <span data-start="29.01" data-end="34.27">with a single command, following best-serving practices.</span> <span data-start="34.27" data-end="38.67">First things first, let us look at our existing app.</span> <span data-start="38.67" data-end="41.04">As any Angular application, we can run it</span> <span data-start="41.04" data-end="44.17">by using the ng serv command.</span> </p>
<p><span data-start="44.17" data-end="47.1">Now we can open the app in Chrome DevTools</span> <span data-start="47.1" data-end="48.69">into the browser.</span> <span data-start="48.69" data-end="51.21">Let us navigate to all the pages in the app,</span> <span data-start="51.21" data-end="54.41">while DevTools tracks the network activity.</span> <span data-start="54.41" data-end="57.3">As the next step, we can open the Network tab</span> <span data-start="57.3" data-end="59.16">of Chrome DevTools.</span> <span data-start="59.16" data-end="61.26">Notice that the only network request</span> <span data-start="61.26" data-end="64.56">there is triggered by the image from the first page we</span> <span data-start="64.56" data-end="66.42">navigate us to.</span> <span data-start="66.42" data-end="69.69">This means that during the initial load time,</span> <span data-start="69.69" data-end="72.3">we are downloading the JavaScript associated</span> <span data-start="72.3" data-end="77.01">with all pages, although the user needs only a subset of it.</span> <span data-start="77.01" data-end="80.52">This is a good opportunity to introduce code splitting.</span> <span data-start="80.52" data-end="86.55">In Angular CLI 8.1, we added a lazy module generator.</span> <span data-start="86.55" data-end="92.52">It accepts a module name, a route name, and a parent module</span> <span data-start="92.52" data-end="93.45">name.</span> </p>
<p><span data-start="93.45" data-end="97.41">Let us use it to move the About page into its own JavaScript</span> <span data-start="97.41" data-end="98.46">chunk.</span> <span data-start="98.46" data-end="104.46">All we need to do is run ng g for generate, m for module,</span> <span data-start="104.46" data-end="111.06">with the name about, route name about, and parent module app.</span> <span data-start="111.06" data-end="115.35">This command generated a definition of an NgModule,</span> <span data-start="115.35" data-end="118.11">declaration of a lazy route, declaration</span> <span data-start="118.11" data-end="122.43">of a default route in the lazy module, and a component</span> <span data-start="122.43" data-end="125.79">that the default route will render.</span> </p>
<p><span data-start="125.79" data-end="129.93">Now there is goal to VS code to remove the eager route</span> <span data-start="129.93" data-end="133.5">and switch to the newly generated lazy one.</span> <span data-start="133.5" data-end="137.56">First, let us remove the eager route itself.</span> <span data-start="137.56" data-end="139.65">Next, we can delete the eager component</span> <span data-start="139.65" data-end="142.44">import and declaration.</span> </p>
<p><span data-start="142.44" data-end="145.56">As a next step, let us move the definition</span> <span data-start="145.56" data-end="147.99">of the eagerly rendered component</span> <span data-start="147.99" data-end="150.75">to the lazily rendered one.</span> <span data-start="150.75" data-end="153.3">Finally, let us remove the files we're not</span> <span data-start="153.3" data-end="156.18">going to use for this particular example,</span> <span data-start="156.18" data-end="160.74">as well as the eagerly rendered about component.</span> </p>
<p><span data-start="160.74" data-end="163.99">Now, we can preview the result in the browser.</span> <span data-start="163.99" data-end="166.11">Notice that the navigation to the about page</span> <span data-start="166.11" data-end="168.3">triggered a network request which</span> <span data-start="168.3" data-end="171.45">downloaded the about module.</span> <span data-start="171.45" data-end="173.67">We improved the initial app load [INAUDIBLE]</span> <span data-start="173.67" data-end="176.37">by the length scripts which are not immediately needed</span> <span data-start="176.37" data-end="177.94">by the user.</span> <span data-start="177.94" data-end="179.64">This, however, may introduce latency</span> <span data-start="179.64" data-end="182.1">when navigating across pages.</span> <span data-start="182.1" data-end="186.84">A technique that can help us to fix this is bundle preloading.</span> <span data-start="186.84" data-end="190.38">As a next step, we can install the ngx quicklink module</span> <span data-start="190.38" data-end="193.29">and save it into our dependencies.</span> <span data-start="193.29" data-end="196.2">Ngx quicklink is a preloading strategy</span> <span data-start="196.2" data-end="198.42">that will detect when a router link is</span> <span data-start="198.42" data-end="199.98">visible in the viewport.</span> </p>
<p><span data-start="199.98" data-end="203.1">It will wait until the browser is idle</span> <span data-start="203.1" data-end="206.31">and prefetch it, unless the user's browser is</span> <span data-start="206.31" data-end="208.74">in data-saving mode.</span> <span data-start="208.74" data-end="211.29">To introduce quicklink to our app,</span> <span data-start="211.29" data-end="214.08">we first need to import the quicklink module</span> <span data-start="214.08" data-end="218.64">and add it to the list of imports in the app ng module.</span> <span data-start="218.64" data-end="222.42">After that, we need to import the quicklink strategy</span> <span data-start="222.42" data-end="228.12">and add it as the preloading strategy of the Angular router.</span> <span data-start="228.12" data-end="232.06">To observe the result, let's go back to Chrome.</span> <span data-start="232.06" data-end="233.85">Notice that when we open the site</span> <span data-start="233.85" data-end="236.4">navigation, in the background Angular</span> <span data-start="236.4" data-end="239.08">downloads the about module.</span> </p>
<p><span data-start="239.08" data-end="241.77">Finally, let us deploy the app to production following</span> <span data-start="241.77" data-end="244.5">best-serving practices.</span> <span data-start="244.5" data-end="248.81">In the console, we can type ng add angular/fire.</span> <span data-start="248.81" data-end="251.31">This command will install Firebase tools</span> <span data-start="251.31" data-end="253.77">and perform a couple of transformations</span> <span data-start="253.77" data-end="255.87">on top of our project.</span> </p>
<p><span data-start="255.87" data-end="258.269">If we are authenticated as to Firebase,</span> <span data-start="258.269" data-end="260.43">it will also fetch our project list</span> <span data-start="260.43" data-end="264.3">and allow us to select one by using fuzzy search.</span> <span data-start="264.3" data-end="267.33">With the latest deployment capabilities in the Angular CLI</span> <span data-start="267.33" data-end="271.86">8.3, we can add a package from a cloud provider</span> <span data-start="271.86" data-end="276.96">and run the command ng deploy to push our project to the cloud.</span> <span data-start="276.96" data-end="280.29">Now let us run ng deploy in the terminal.</span> <span data-start="280.29" data-end="283.23">It will first build our app, performing the most</span> <span data-start="283.23" data-end="285.12">optimal build possible.</span> <span data-start="285.12" data-end="287.67">After that, upload the production asset</span> <span data-start="287.67" data-end="289.74">to Firebase Hosting.</span> <span data-start="289.74" data-end="292.41">Finally, it will output a URL that we</span> <span data-start="292.41" data-end="295.56">can use to directly preview the deployment.</span> <span data-start="295.56" data-end="299.73">The cloud platforms with direct support for Angular CLI</span> <span data-start="299.73" data-end="304.23">are Google Cloud and Firebase, Azure, and Zeit.</span> </p>
<p><span data-start="304.23" data-end="306.75">Community partners also implemented support</span> <span data-start="306.75" data-end="311.01">for GitHub Pages, Netify, and directly publishing libraries</span> <span data-start="311.01" data-end="313.11">to NPM.</span> <span data-start="313.11" data-end="315.9">In this video, we looked into three simple optimization</span> <span data-start="315.9" data-end="317.1">techniques.</span> <span data-start="317.1" data-end="320.31">First, we introduced code-splitting to our app</span> <span data-start="320.31" data-end="323.55">by using the Angular CLI schematics.</span> </p>
<p><span data-start="323.55" data-end="325.5">After that, with ngx quicklink, we</span> <span data-start="325.5" data-end="327.99">added efficient prefetching of chunks,</span> <span data-start="327.99" data-end="331.05">associated with visible links in the viewport.</span> <span data-start="331.05" data-end="334.02">Finally, we deployed the app to Firebase Hosting,</span> <span data-start="334.02" data-end="337.62">enabling best-serving practices such as CDM</span> <span data-start="337.62" data-end="339.63">and Content Compression.</span> <span data-start="339.63" data-end="341.73">You can learn more about all of these techniques</span> <span data-start="341.73" data-end="344.49">at web.dev/angular.</span> <span data-start="344.49" data-end="345.6">Thank you for watching.</span> <span data-start="345.6" data-end="350.15">[MUSIC PLAYING]</span> </p>
</section>

<!-- div#container ends -->
</div>

<img alt="The End" id="fin" src="../images/fin.jpg">

<script>
/*eslint-disable */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google-translate');
}
/* eslint-enable */
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../js/main.js"></script>

</body>

</html>
