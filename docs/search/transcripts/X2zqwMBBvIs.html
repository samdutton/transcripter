<section>
<p><span data-start="0" data-end="3.346">[MUSIC PLAYING]</span> </p>
</section>

<section>
<p><span data-start="5.263" data-end="6.43"><span class="speaker">Kenji Baheux</span>: Hi, I'm Kenji.</span> <span data-start="6.43" data-end="7.83">I'm a project manger in Chrome.</span> <span data-start="7.83" data-end="9.247">I work on making things load fast.</span> </p>
</section>

<section>
<p><span data-start="9.247" data-end="10.58"><span class="speaker">Yusuke Utsunomiya</span>: Hi, everyone.</span> <span data-start="10.58" data-end="13.175">I'm Yusuke from gTech Velocity at Google, helping our partners</span> <span data-start="13.175" data-end="14.585">with everything web.</span> </p>
</section>

<section>
<p><span data-start="14.585" data-end="16.96"><span class="speaker">Kenji Baheux</span>: This talk is about bleeding-edge API design</span> <span data-start="16.96" data-end="19.6">to help you create user experiences that are seamless,</span> <span data-start="19.6" data-end="21.2">instant, and available.</span> <span data-start="21.2" data-end="24.05">There is a lot to cover today, so let's jump right into it — </span> <span data-start="27.4" data-end="29.83">maybe.</span> <span data-start="29.83" data-end="30.777">It's coming.</span> <span data-start="30.777" data-end="33.11">Well, yeah, the [? loading ?] [? on the screen ?] first,</span> <span data-start="33.11" data-end="35.23">obviously.</span> </p>
<p><span data-start="35.23" data-end="37.45">So we spend a lot of time waiting for things</span> <span data-start="37.45" data-end="40.06">to load or disappear on the screen, right?</span> <span data-start="40.06" data-end="42.07">Especially on mobile, browsing the web</span> <span data-start="42.07" data-end="43.57">doesn't feel particularly delightful</span> <span data-start="43.57" data-end="47.228">compared to the user experience you have on native apps.</span> <span data-start="47.228" data-end="48.77">And there are a few reasons for that,</span> <span data-start="48.77" data-end="51.16">but I think the main one is the way we load websites,</span> <span data-start="51.16" data-end="56.137">generally speaking, it is sluggish, typically,</span> <span data-start="56.137" data-end="57.97">the user experience that we have on the web.</span> </p>
<p><span data-start="57.97" data-end="61.27">Let's see why that's the case.</span> <span data-start="61.27" data-end="62.77">So this is a typical user experience</span> <span data-start="62.77" data-end="63.978">that you have on today's web.</span> <span data-start="63.978" data-end="66.79">You click on the link, and then, essentially, you</span> <span data-start="66.79" data-end="68.89">see this blank page, because the process is</span> <span data-start="68.89" data-end="71.74">going to fetch the HTML for the main resource</span> <span data-start="71.74" data-end="74.24">for the new navigation, and it can take a while.</span> <span data-start="74.24" data-end="77.45">So you still wait for something to happen —  anything.</span> <span data-start="77.45" data-end="80.14">You don't even know, is it going to work or not, right?</span> <span data-start="80.14" data-end="81.51">It could just fail.</span> <span data-start="81.51" data-end="84.49">And then, eventually, you start to see like things rendering</span> <span data-start="84.49" data-end="85.55">and you only use it.</span> </p>
<p><span data-start="85.55" data-end="87.96">But what happened usually is that there</span> <span data-start="87.96" data-end="90.61">are elements on the page that comes late and shift</span> <span data-start="90.61" data-end="94.157">things on the screen, which makes it very hard to use,</span> <span data-start="94.157" data-end="95.74">because you tap on something, and then</span> <span data-start="95.74" data-end="97.063">you tap on the wrong thing.</span> </p>
</section>

<section>
<p><span data-start="97.063" data-end="98.73"><span class="speaker">Yusuke Utsunomiya</span>: Kenji, I think you're</span> <span data-start="98.73" data-end="99.942">absolutely right on this.</span> <span data-start="99.942" data-end="102.15">I wonder if we could deliver experiences like the one</span> <span data-start="102.15" data-end="104.12">that we have on the slide right now — </span> <span data-start="104.12" data-end="106.47">experiencing without wait times, experience</span> <span data-start="106.47" data-end="108.743">without jumping layouts or rendering states,</span> <span data-start="108.743" data-end="110.91">experiences that feel snappy because they seamlessly</span> <span data-start="110.91" data-end="115.25">transition you to your destination.</span> <span data-start="115.25" data-end="116.75">Kenji, do you think it's a good idea</span> <span data-start="116.75" data-end="118.85">to first walk through the range of options we have</span> <span data-start="118.85" data-end="121.12">when building new user experiences today?</span> </p>
<p><span data-start="121.12" data-end="123.62">I really want to hear a couple of your good, good metaphors.</span> <span data-start="123.62" data-end="124.64">I really love [INAUDIBLE].</span> </p>
</section>

<section>
<p><span data-start="124.64" data-end="126.24"><span class="speaker">Kenji Baheux</span>: I'm not sure about good, but we can try it, right?</span> </p>
</section>

<section>
<p><span data-start="126.24" data-end="127.71"><span class="speaker">Yusuke Utsunomiya</span>: Sure.</span> </p>
</section>

<section>
<p><span data-start="127.71" data-end="129.252"><span class="speaker">Kenji Baheux</span>: All right, so you could</span> <span data-start="129.252" data-end="131.42">choose to focus all your resources into building</span> <span data-start="131.42" data-end="134.023">a native app and develop a top-notch user experience.</span> <span data-start="134.023" data-end="135.44">But the problem with that approach</span> <span data-start="135.44" data-end="137.732">is that, on average, this is the equivalent</span> <span data-start="137.732" data-end="139.19">of building an experience that only</span> <span data-start="139.19" data-end="142.91">a small subset of your users can afford or need.</span> <span data-start="142.91" data-end="145.34">Installing a native app is a non-trivial request</span> <span data-start="145.34" data-end="148.62">because it is, first of all, time-consuming,</span> <span data-start="148.62" data-end="152.01">but it also requires a high level of trust and commitment — </span> <span data-start="152.01" data-end="153.8">whether that's about storage, or enabling</span> <span data-start="153.8" data-end="156.48">a bunch of permissions.</span> </p>
<p><span data-start="156.48" data-end="158.15">So while you could skip on native,</span> <span data-start="158.15" data-end="161.16">you absolutely need a presence on the web,</span> <span data-start="161.16" data-end="163.24">especially if you want to reach more users.</span> <span data-start="163.24" data-end="165.62">And on the web, you have, essentially, two options — </span> <span data-start="165.62" data-end="169.34">MPA, or Multiple Page Application, and Single Page</span> </p>
<p><span data-start="169.34" data-end="170.99">Application, SPA.</span> <span data-start="170.99" data-end="172.62">Let's have a quick look at SPA first.</span> <span data-start="175.416" data-end="180.46">OK, so to me, going SPA is kind of like building a high-rise.</span> <span data-start="180.46" data-end="183.24">It is complex because you end up rebuilding key features</span> <span data-start="183.24" data-end="186.72">that the browser provides for free, such as history</span> <span data-start="186.72" data-end="188.79">or restoring scrolling position.</span> <span data-start="188.79" data-end="191.613">That shared experience can be nice when you are in the app,</span> <span data-start="191.613" data-end="194.28">but getting there can take a lot of time because of all the code</span> <span data-start="194.28" data-end="196.23">that you need to load upfront.</span> <span data-start="196.23" data-end="197.29">And that's [? really, ?] [? really ?] [? big, ?]</span> <span data-start="197.29" data-end="199.665">because first impression matters a lot when you're trying</span> <span data-start="199.665" data-end="201.42">to reach new users.</span> </p>
<p><span data-start="201.42" data-end="203.91">And as you build this thing it kind of</span> <span data-start="203.91" data-end="208.07">falls apart, because as the site [? of the SPA ?] increases,</span> <span data-start="208.07" data-end="209.95">it is just too complex.</span> <span data-start="209.95" data-end="211.62">And so the only solution you have</span> <span data-start="211.62" data-end="214.455">is to put this big thing into multiple SPAs.</span> <span data-start="214.455" data-end="215.83">And so you're back to square one,</span> <span data-start="215.83" data-end="217.92">where you have to navigate between different user</span> <span data-start="217.92" data-end="218.74">experiences.</span> <span data-start="218.74" data-end="222.465">And as we've seen, it's not a great user expense on the web.</span> <span data-start="222.465" data-end="224.59">The last thing is that, when we talked to partners,</span> <span data-start="224.59" data-end="227.25">it was clear that, for them, an SPA results</span> <span data-start="227.25" data-end="229.71">in the loss of productivity because of the [INAUDIBLE]</span> <span data-start="229.71" data-end="232.697">dependencies of a monolithic app.</span> </p>
<p><span data-start="232.697" data-end="234.78">So for instance, you can't just fiddle with things</span> <span data-start="234.78" data-end="236.88">without impacting other things.</span> <span data-start="236.88" data-end="241.29">And let's look at what MPA has to offer on your end.</span> <span data-start="241.29" data-end="244.2">To me, going MPA is kind of like building a small town.</span> <span data-start="244.2" data-end="246.36">Each team gets its own house, which</span> <span data-start="246.36" data-end="248.663">means that they can focus on the thing that matters.</span> <span data-start="248.663" data-end="250.08">They don't need to reinvent things</span> <span data-start="250.08" data-end="251.99">that the browser provides, for instance.</span> <span data-start="251.99" data-end="255.3">And they can also more freely tweak their product</span> <span data-start="255.3" data-end="257.19">to their needs without worrying of having</span> <span data-start="257.19" data-end="258.209">to impact other teams.</span> <span data-start="262.78" data-end="264.7">But MPA are not without downsides, right?</span> <span data-start="264.7" data-end="265.73">It's not perfect.</span> <span data-start="265.73" data-end="267.68">Overall, it is true that MPA tends</span> <span data-start="267.68" data-end="269.74">to result in user expenses that are</span> <span data-start="269.74" data-end="272.95">higher-friction because everything is navigation.</span> </p>
<p><span data-start="272.95" data-end="276.79">And as we've seen, it's a rather frustrating user experience.</span> </p>
</section>

<section>
<p><span data-start="276.79" data-end="278.79"><span class="speaker">Yusuke Utsunomiya</span>: Kenji talked about our desire</span> <span data-start="278.79" data-end="281.515">of enabling seamless experiences on the web.</span> <span data-start="281.515" data-end="282.89">Seamless sounds very neat, but it</span> <span data-start="282.89" data-end="285.9">might be hard to understand what we actually mean by this.</span> <span data-start="285.9" data-end="288.3">Here's an example from the Android platform.</span> <span data-start="288.3" data-end="290.64">It's called shared element transition.</span> <span data-start="290.64" data-end="294.03">Essentially, the idea is to use an element throughout the state</span> <span data-start="294.03" data-end="296.61">transition to reassure the user that their action has</span> <span data-start="296.61" data-end="298.655">been acknowledged and being acted on.</span> </p>
</section>

<section>
<p><span data-start="298.655" data-end="299.78"><span class="speaker">Kenji Baheux</span>: Good example.</span> <span data-start="299.78" data-end="303.408">Too bad this is only an Android-native app, API, right?</span> <span data-start="303.408" data-end="304.95">I'm sure that a lot of you would like</span> <span data-start="304.95" data-end="307.65">to build something like that, especially if you have an MPA.</span> <span data-start="307.65" data-end="309.233">It's kind of like an achievable today.</span> </p>
</section>

<section>
<p><span data-start="309.233" data-end="310.9"><span class="speaker">Yusuke Utsunomiya</span>: Kenji-san, Kenji-san,</span> <span data-start="310.9" data-end="312.31">I think I have something for you.</span> <span data-start="312.31" data-end="314.28">It's still in the early days, but with the help</span> <span data-start="314.28" data-end="315.9">from the broader community, we think</span> <span data-start="315.9" data-end="318.42">we have found a way to create such experiences.</span> <span data-start="318.42" data-end="319.89">It's called Portals.</span> <span data-start="319.89" data-end="322.23">We gave a teaser during last year CDS</span> <span data-start="322.23" data-end="325.2">and showed off our seamless vision in IO this year.</span> <span data-start="325.2" data-end="327.63">The feedback from the community has been amazing,</span> <span data-start="327.63" data-end="329.49">and the team has made significant progress</span> <span data-start="329.49" data-end="332.31">for enabling same-origin use cases, which will</span> <span data-start="332.31" data-end="333.75">be our focus for this talk.</span> </p>
<p><span data-start="333.75" data-end="336.48">So Kenji, could you please give us a high-level pitch</span> <span data-start="336.48" data-end="337.6">on what Portals are?</span> </p>
</section>

<section>
<p><span data-start="337.6" data-end="339.33"><span class="speaker">Kenji Baheux</span>: Yeah, sure.</span> <span data-start="339.33" data-end="342.21">So let's briefly expand the key concepts behind Portal.</span> <span data-start="342.21" data-end="345.63">Portal is all about enabling better navigation on the web.</span> <span data-start="345.63" data-end="347.49">And in the early days, every navigation</span> <span data-start="347.49" data-end="351.06">was done through simple links like this one, right?</span> <span data-start="351.06" data-end="353.73">But the downside is with those simple links,</span> <span data-start="353.73" data-end="355.2">it's not super appealing.</span> <span data-start="355.2" data-end="357.87">It's just a bunch of text and words.</span> </p>
<p><span data-start="357.87" data-end="360.54">And also, the friction of navigating gets in the way.</span> <span data-start="366.31" data-end="368.05">Then, snippets came around, right?</span> <span data-start="368.05" data-end="371.89">It's some sort of way to make the links more appealing</span> <span data-start="371.89" data-end="375.76">by providing more details and having a nice visual.</span> <span data-start="375.76" data-end="377.41">But that said, it's not much better.</span> <span data-start="377.41" data-end="379.78">For one, the information that is available</span> <span data-start="379.78" data-end="381.448">there could be out-of-date.</span> </p>
<p><span data-start="381.448" data-end="382.99">And also, it's still going to trigger</span> <span data-start="382.99" data-end="388.365">this high-friction navigation and navigation user experience.</span> <span data-start="388.365" data-end="392.26">All right —  and eventually, iframe came around.</span> <span data-start="392.26" data-end="394.48">So because the content is now served</span> <span data-start="394.48" data-end="396.61">by the website you are linking linking to,</span> <span data-start="396.61" data-end="399.34">the [? freshnet ?] concern is not there anymore,</span> <span data-start="399.34" data-end="402.22">but it's still going to trigger a high-friction user</span> <span data-start="402.22" data-end="403.33">navigation.</span> <span data-start="403.33" data-end="407.77">And so it's not that different from what we've seen so far.</span> <span data-start="407.77" data-end="412.61">And this is where Portal comes in.</span> </p>
<p><span data-start="412.61" data-end="415.28">As you will see, it's sort of like an iframe,</span> <span data-start="415.28" data-end="418.02">except that you can navigate into it.</span> <span data-start="418.02" data-end="420.44">So I think this is a better explanation of it, right?</span> <span data-start="420.44" data-end="423.547">It's like a frame that you can open and cross over.</span> <span data-start="423.547" data-end="425.63">All right, I think that's enough metaphor for now.</span> <span data-start="425.63" data-end="426.573">Hands on time.</span> </p>
</section>

<section>
<p><span data-start="426.573" data-end="428.24"><span class="speaker">Yusuke Utsunomiya</span>: Awesome stuff, Kenji.</span> <span data-start="428.24" data-end="430.06">I like how you've framed those things.</span> </p>
</section>

<section>
<p><span data-start="430.06" data-end="430.82"><span class="speaker">Kenji Baheux</span>: I see what you did there.</span> </p>
</section>

<section>
<p><span data-start="430.82" data-end="431.72"><span class="speaker">Yusuke Utsunomiya</span>: Exactly.</span> <span data-start="431.72" data-end="434.27">So the exciting that thing is Portals for same-origin use</span> <span data-start="434.27" data-end="436.79">case is coming soon as an Origin trial.</span> <span data-start="436.79" data-end="438.71">Just like any other HTML element,</span> <span data-start="438.71" data-end="442.17">you can use it directly with the HTML tag or from JavaScript.</span> <span data-start="442.17" data-end="446.27">Let's walk through step by step what Portals could do.</span> <span data-start="446.27" data-end="449.43">Let's say you have a page, say foo.html — </span> <span data-start="449.43" data-end="451.79">all blue, super nice with its full blue background,</span> <span data-start="451.79" data-end="453.57">and having foo.html in the center.</span> </p>
</section>

<section>
<p><span data-start="453.57" data-end="455.82"><span class="speaker">Kenji Baheux</span>: This looks amazing, like Jessie's shirt.</span> <span data-start="455.82" data-end="458.21">Like it's —  I don't know if you did that on purpose, maybe?</span> </p>
</section>

<section>
<p><span data-start="458.21" data-end="460.61"><span class="speaker">Yusuke Utsunomiya</span>: And you also have another page, bar.html,</span> <span data-start="460.61" data-end="462.2">which is pretty similar to foo.html,</span> <span data-start="462.2" data-end="464.45">but having a different color and a different URL.</span> </p>
</section>

<section>
<p><span data-start="464.45" data-end="465.14"><span class="speaker">Kenji Baheux</span>: I should have weared</span> <span data-start="465.14" data-end="466.7">some kind of yellow thing, right?</span> </p>
</section>

<section>
<p><span data-start="466.7" data-end="467.42"><span class="speaker">Yusuke Utsunomiya</span>: Exactly.</span> <span data-start="467.42" data-end="469.37">I know these are looking pretty beautiful.</span> <span data-start="469.37" data-end="474.09">We'll use these two pages to see what Portals could do.</span> <span data-start="474.09" data-end="476.833">You would first want to check if your browser supports Portals.</span> <span data-start="476.833" data-end="478.5">As you all know, progressive enhancement</span> <span data-start="478.5" data-end="480.03">is very important because we don't</span> <span data-start="480.03" data-end="483.15">want to break any experience in non-supported browsers.</span> <span data-start="483.15" data-end="485.88">You can check if a HTML Portal element is in the global window</span> <span data-start="485.88" data-end="486.99">object to achieve this.</span> <span data-start="489.54" data-end="491.13">Next, let's create a portal element</span> <span data-start="491.13" data-end="496.26">by document.CreateElement, setting the source attribute</span> <span data-start="496.26" data-end="503.55">as bar.html, and adding some styles of your own,</span> <span data-start="503.55" data-end="505.78">and lastly, adding the element to the document.</span> </p>
<p><span data-start="505.78" data-end="508.8">And boom, you'll see bar.html embedded in the page.</span> </p>
</section>

<section>
<p><span data-start="508.8" data-end="509.8"><span class="speaker">Kenji Baheux</span>: Fantastic.</span> <span data-start="509.8" data-end="511.15">This is like never seen before.</span> </p>
</section>

<section>
<p><span data-start="511.15" data-end="513.215"><span class="speaker">Yusuke Utsunomiya</span>: Yeah, it looks amazing, right?</span> <span data-start="513.215" data-end="514.84">You can actually check in the dev tools</span> <span data-start="514.84" data-end="517.21">that another document is rendered inside the Portal</span> <span data-start="517.21" data-end="519.35">element.</span> <span data-start="519.35" data-end="521.39">In this case, I added width 100%,</span> <span data-start="521.39" data-end="524.35">height 100%, transform scale, and a fixed position,</span> <span data-start="524.35" data-end="526.1">so it looks just like the full document is</span> <span data-start="526.1" data-end="527.58">embedded in the page.</span> <span data-start="527.58" data-end="530.147">But you can file your Portal element as you like.</span> </p>
</section>

<section>
<p><span data-start="530.147" data-end="531.48"><span class="speaker">Kenji Baheux</span>: Isn't it exciting?</span> <span data-start="531.48" data-end="534.35">You can now embed other documents in a document?</span> <span data-start="534.35" data-end="536.085">That sound a little bit, like, familiar.</span> </p>
</section>

<section>
<p><span data-start="536.085" data-end="537.71"><span class="speaker">Yusuke Utsunomiya</span>: Yes, but what really</span> <span data-start="537.71" data-end="539.57">gets exciting with Portals is that it</span> <span data-start="539.57" data-end="542.282">has this powerful Activate function built in.</span> <span data-start="542.282" data-end="543.74">This function will let you navigate</span> <span data-start="543.74" data-end="546.49">into the already-rendered page inside a Portal element.</span> <span data-start="549.14" data-end="550.21">Let's see it in action.</span> <span data-start="550.21" data-end="552.478">I'll, then, now add an OnClickListener to the portal</span> <span data-start="552.478" data-end="554.27">and see if I could activate the portal when</span> <span data-start="554.27" data-end="556.31">the user taps on the element.</span> <span data-start="556.31" data-end="559.34">And what you get is — </span> <span data-start="559.34" data-end="560.11">this.</span> </p>
<p><span data-start="560.11" data-end="562.58">The top-level window navigation happens, and you magically</span> <span data-start="562.58" data-end="564.17">navigate into the portal.</span> <span data-start="564.17" data-end="567.96">It's an instant navigation experience.</span> <span data-start="567.96" data-end="570.64">Like I mentioned, this is a top-level window navigation,</span> <span data-start="570.64" data-end="574.02">so the URL correctly switches to the activated page.</span> <span data-start="574.02" data-end="575.88">I mean, keeping the URL right is always good</span> <span data-start="575.88" data-end="577.005">when you work with the web.</span> </p>
<p><span data-start="581.18" data-end="582.98">So as you can see, Portals really</span> <span data-start="582.98" data-end="584.438">makes the loading speeds disappear.</span> <span data-start="584.438" data-end="585.897">You don't need to wait for the page</span> <span data-start="585.897" data-end="587.6">to render anymore because it's already</span> <span data-start="587.6" data-end="590.235">rendered inside the Portal.</span> </p>
</section>

<section>
<p><span data-start="590.235" data-end="591.61"><span class="speaker">Kenji Baheux</span>: Thanks you, Yusuke.</span> <span data-start="591.61" data-end="594.02">I'm very impressed because you did make loading disappear.</span> <span data-start="594.02" data-end="595.02">Like, round of applause.</span> <span data-start="595.02" data-end="598.977">[APPLAUSE]</span> <span data-start="598.977" data-end="601.79">However, on the second [? side, ?]</span> <span data-start="601.79" data-end="604.928">this is super confusing because it goes too fast.</span> <span data-start="604.928" data-end="606.47">I mean, it's like one of those movies</span> <span data-start="606.47" data-end="608.66">where they quickly like shift to a different scene</span> <span data-start="608.66" data-end="610.28">and you lose the plot.</span> <span data-start="610.28" data-end="612.86">Look at the target experience that this is so much easier</span> <span data-start="612.86" data-end="614.72">to understand.</span> </p>
</section>

<section>
<p><span data-start="614.72" data-end="616.72"><span class="speaker">Yusuke Utsunomiya</span>: I'm totally agreed with that.</span> <span data-start="616.72" data-end="618.61">The good news is, Portal does enable</span> <span data-start="618.61" data-end="621.27">the creation of those intuitive and delightful user</span> <span data-start="621.27" data-end="624.067">experiences, but you have to put some efforts to it.</span> <span data-start="624.067" data-end="626.4">I think this is preferable, because a platform shouldn't</span> <span data-start="626.4" data-end="629.5">be in the business of defining rigid user experiences.</span> <span data-start="629.5" data-end="631.12">It should empower you to design what</span> <span data-start="631.12" data-end="633.298">works best for your product and your users.</span> </p>
</section>

<section>
<p><span data-start="633.298" data-end="634.09"><span class="speaker">Kenji Baheux</span>: Cool.</span> <span data-start="634.09" data-end="636.55">I really like this concept of bring your own animation.</span> <span data-start="636.55" data-end="639.272">It makes a lot of sense.</span> </p>
</section>

<section>
<p><span data-start="639.272" data-end="641.23"><span class="speaker">Yusuke Utsunomiya</span>: So what we can do better is,</span> <span data-start="641.23" data-end="643.52">first, embed the Portal element.</span> <span data-start="643.52" data-end="646.89">And when the user taps on the element,</span> <span data-start="646.89" data-end="649.84">don't activate just yet, and start animating the portal.</span> <span data-start="649.84" data-end="654.7">In this case, let's try to bring back to scale to 100%.</span> <span data-start="654.7" data-end="656.7">Once the Portal element covers the full screen — </span> <span data-start="656.7" data-end="659.242">and by the way, you can see that the URL is still at foo.html</span> <span data-start="659.242" data-end="661.76">at this point — </span> <span data-start="661.76" data-end="663.29">and lastly, activate the Portal.</span> <span data-start="663.29" data-end="665.9">The instant top-level navigation happens and the user</span> <span data-start="665.9" data-end="667.245">has now landed to bar.html.</span> <span data-start="670.37" data-end="672.818">Like I mentioned, Portal has nothing to do with animation,</span> <span data-start="672.818" data-end="674.36">but you can always animate the Portal</span> <span data-start="674.36" data-end="676.34">to make the transition smooth.</span> </p>
<p><span data-start="676.34" data-end="678.715">It could be using key frames or JavaScript to move around</span> <span data-start="678.715" data-end="680.382">the element, but in this case, let's say</span> <span data-start="680.382" data-end="685.42">we animated the element with CSS transitions.</span> <span data-start="685.42" data-end="687.92">The fancy animation function we have here could be something</span> <span data-start="687.92" data-end="690.71">like changing the transform scale, translate x,</span> <span data-start="690.71" data-end="693.785">translate y, and also setting the transition duration to 400</span> <span data-start="693.785" data-end="695.27">. milliseconds.</span> </p>
<p><span data-start="695.27" data-end="699.21">The animation could look something like this — </span> <span data-start="699.21" data-end="699.71">very smooth.</span> <span data-start="702.255" data-end="703.98">When the CSS transition completes,</span> <span data-start="703.98" data-end="706.35">there will be a transition end event being fired.</span> <span data-start="706.35" data-end="708.937">Listen to that event, and then activate.</span> </p>
</section>

<section>
<p><span data-start="708.937" data-end="711.27"><span class="speaker">Kenji Baheux</span>: And well, you now have a smooth transition</span> <span data-start="711.27" data-end="713.05">despite being an MPA.</span> <span data-start="713.05" data-end="714.7">That's pretty cool.</span> <span data-start="714.7" data-end="717.3">But I mean, yeah, it does look much better.</span> <span data-start="717.3" data-end="720.337">But what if I don't want my users to navigate away?</span> </p>
</section>

<section>
<p><span data-start="720.337" data-end="721.92"><span class="speaker">Yusuke Utsunomiya</span>: Don't want to force</span> <span data-start="721.92" data-end="723.045">the users to navigate away?</span> <span data-start="723.045" data-end="723.97">Kenji, I don't know.</span> <span data-start="723.97" data-end="725.262">I think you're asking too much.</span> </p>
</section>

<section>
<p><span data-start="725.262" data-end="727.095"><span class="speaker">Kenji Baheux</span>: Sorry, I really can't help it.</span> <span data-start="727.095" data-end="728.993">But I swear, this is going to be useful.</span> <span data-start="728.993" data-end="730.41">So can we do something about that?</span> </p>
</section>

<section>
<p><span data-start="730.41" data-end="733.3"><span class="speaker">Yusuke Utsunomiya</span>: OK, yeah.</span> <span data-start="733.3" data-end="736.53">So the good news is, you can do that easily with Portals, yes.</span> <span data-start="736.53" data-end="738.63">Another powerful API that element provides</span> <span data-start="738.63" data-end="740.13">is adoptPredecessor.</span> <span data-start="740.13" data-end="743.04">As you can tell from the name, after activating Portal,</span> <span data-start="743.04" data-end="745.44">you will be able to reuse the predecessor, which will</span> <span data-start="745.44" data-end="747.49">be the previous page instance.</span> <span data-start="747.49" data-end="750.517">Let's see how this works.</span> <span data-start="750.517" data-end="752.85">First of all, you can listen to the portalactivate event</span> <span data-start="752.85" data-end="754.44">inside a Portal embedded document</span> <span data-start="754.44" data-end="756.352">to check if the page was activated.</span> </p>
<p><span data-start="756.352" data-end="758.31">This event is very useful if you have something</span> <span data-start="758.31" data-end="760.09">you want to do right after the activation,</span> <span data-start="760.09" data-end="763.48">like changing the UI and such.</span> <span data-start="763.48" data-end="765.33">And the most exciting pieces that the event</span> <span data-start="765.33" data-end="767.7">comes with this adoptPredecessor function, which</span> <span data-start="767.7" data-end="769.41">you can use to retrieve the previous page</span> <span data-start="769.41" data-end="772.3">as a portal element with all the UI and the JavaScript</span> <span data-start="772.3" data-end="775.15">states available.</span> <span data-start="775.15" data-end="777.15">And from here on, you can add it to the document</span> <span data-start="777.15" data-end="779.205">and use it like any other portal.</span> </p>
<p><span data-start="779.205" data-end="780.705">What I built is something like this.</span> <span data-start="783.28" data-end="787.63">Bar adopting Foo as a predecessor, and then activate.</span> <span data-start="787.63" data-end="792.86">Foo adapting Bar as a predecessor, and then activate.</span> <span data-start="792.86" data-end="795.77">It's kind of like this cat like spinning back and forth — </span> <span data-start="795.77" data-end="796.79">endless loop.</span> </p>
</section>

<section>
<p><span data-start="796.79" data-end="797.94"><span class="speaker">Kenji Baheux</span>: That's very cute, but there</span> <span data-start="797.94" data-end="799.69">are more practical ways to use this thing.</span> <span data-start="799.69" data-end="801.56">So let's have a look.</span> <span data-start="801.56" data-end="803.51">Like this example from Yahoo — </span> <span data-start="803.51" data-end="806.33">they are using adoptPredecessor to smooth out the experience</span> <span data-start="806.33" data-end="808.375">of checking breaking news.</span> <span data-start="808.375" data-end="809.75">When the news stories break, it's</span> <span data-start="809.75" data-end="812.28">very likely that you were doing something else.</span> </p>
<p><span data-start="812.28" data-end="815.18">And so having you navigate away from whatever you were doing</span> <span data-start="815.18" data-end="817.11">would be a pretty bad user experience.</span> <span data-start="817.11" data-end="820.76">But in that case, by using Portal and [INAUDIBLE].</span> <span data-start="820.76" data-end="822.47">you can keep the context around so</span> <span data-start="822.47" data-end="825.15">that user knows that whatever they were doing is still there.</span> <span data-start="825.15" data-end="826.89">And so they can quickly go back to it.</span> <span data-start="826.89" data-end="827.39">You see?</span> <span data-start="827.39" data-end="828.5">I told you it would be useful.</span> </p>
</section>

<section>
<p><span data-start="828.5" data-end="830.125"><span class="speaker">Yusuke Utsunomiya</span>: Very exciting stuff.</span> <span data-start="830.125" data-end="832.04">While Portals is a powerful API, I</span> <span data-start="832.04" data-end="836.32">would also want to point out some tips when using Portals.</span> <span data-start="836.32" data-end="837.97">First of all, as we mentioned, Portal</span> <span data-start="837.97" data-end="839.92">does not come with any animation features</span> <span data-start="839.92" data-end="841.63">by default, which would also mean</span> <span data-start="841.63" data-end="845.92">that it's your responsibility to maintain the 60 FPS animation.</span> <span data-start="845.92" data-end="847.84">As Uncle Paul has been saying many times,</span> <span data-start="847.84" data-end="849.99">stick to changing transition opacity.</span> <span data-start="849.99" data-end="852.25">Use will-change to give a browser hint.</span> <span data-start="852.25" data-end="854.59">And if you're directly animating using JavaScript,</span> <span data-start="854.59" data-end="856.52">user requestAnimationFrame.</span> <span data-start="859.46" data-end="861.29">Next, accessibility.</span> <span data-start="861.29" data-end="863.06">In time for the Origin trial, we want</span> <span data-start="863.06" data-end="865.62">to make sure the accessibility works fine</span> <span data-start="865.62" data-end="867.68">and the semantics works fine for the Portals.</span> </p>
<p><span data-start="867.68" data-end="870.35">Also, from some people prefer reduced motion settings,</span> <span data-start="870.35" data-end="873.23">so please consider using the prefers-reduced-motion @media</span> <span data-start="873.23" data-end="877.28">query to customize the animation.</span> <span data-start="877.28" data-end="879.44">In this case, when the user prefers reduced motion,</span> <span data-start="879.44" data-end="881.75">the transform transition that moves the elements around</span> <span data-start="881.75" data-end="883.01">would be nearly instant.</span> <span data-start="886.94" data-end="887.99">Last, but not least — </span> <span data-start="887.99" data-end="890.3">and I cannot emphasize this more —  but again,</span> <span data-start="890.3" data-end="892.16">while Portals is a powerful element,</span> <span data-start="892.16" data-end="894.65">avoid overloading the page with Portals.</span> </p>
<p><span data-start="894.65" data-end="897.23">What you can do here is try loading a new portal based</span> <span data-start="897.23" data-end="899.51">on user interaction and interest — </span> <span data-start="899.51" data-end="901.52">something like using the intersection observer</span> <span data-start="901.52" data-end="904.22">to lazily load a portal or dynamically creating</span> <span data-start="904.22" data-end="906.41">a portal on user interaction, initially</span> <span data-start="906.41" data-end="909.75">immediately showing the skeleton UI while the loading completes.</span> </p>
</section>

<section>
<p><span data-start="912.263" data-end="914.18"><span class="speaker">Kenji Baheux</span>: All right, if there is any thing</span> <span data-start="914.18" data-end="916.19">to take from this overview of Portals,</span> <span data-start="916.19" data-end="919.64">it's that Portal is, by design, a very simple API</span> <span data-start="919.64" data-end="922.64">because we don't want to get in the way of your creativity.</span> <span data-start="922.64" data-end="925.46">And so to give you some ideas of what you could do with Portals,</span> <span data-start="925.46" data-end="927.53">we got some UX patterns and a bunch of demos</span> <span data-start="927.53" data-end="930">from partners to show off.</span> <span data-start="930" data-end="932.5">Let's start with this pattern that we talked about last year</span> <span data-start="932.5" data-end="934.52">at CDS, but it's still a good one.</span> <span data-start="934.52" data-end="937.01">This works really well when you know where</span> <span data-start="937.01" data-end="938.787">the user is going to go next.</span> <span data-start="938.787" data-end="941.12">And so, this is something that we build in collaboration</span> <span data-start="941.12" data-end="942.41">with Hatena.</span> <span data-start="942.41" data-end="945.2">As you can see, it's a comic viewer-reader.</span> </p>
<p><span data-start="945.2" data-end="948.02">And the next chapter is pre-rendered right there</span> <span data-start="948.02" data-end="949.02">on the last page.</span> <span data-start="949.02" data-end="950.96">And so you can seamlessly transition the user</span> <span data-start="950.96" data-end="951.99">to the next chapter.</span> <span data-start="951.99" data-end="953.09">And this is an MPA, right?</span> <span data-start="953.09" data-end="953.92">This is not an SPA.</span> <span data-start="954.95" data-end="959.24">This is another exploration done by Farfetch, an online luxury</span> <span data-start="959.24" data-end="961.4">fashion retail platform based in the UK.</span> </p>
</section>

<section>
<p><span data-start="961.4" data-end="961.79"><span class="speaker">Yusuke Utsunomiya</span>: Got that right.</span> </p>
</section>

<section>
<p><span data-start="961.79" data-end="963.248"><span class="speaker">Kenji Baheux</span>: Got that right, yeah.</span> <span data-start="963.248" data-end="965.15">Their goal was to use Portal to smooth out</span> <span data-start="965.15" data-end="968.39">the navigation on their inspirational content page.</span> <span data-start="968.39" data-end="970.7">They are also using adoptPredecessor</span> <span data-start="970.7" data-end="974.63">to the end of the whole sequence to end the swiping navigation</span> <span data-start="974.63" data-end="978.425">back to where you have started.</span> <span data-start="978.425" data-end="980.82">All right, second UX panel that we have.</span> <span data-start="980.82" data-end="984.21">This is designed to help users find more quickly the item</span> <span data-start="984.21" data-end="986.832">that they want among many.</span> <span data-start="986.832" data-end="988.29">What goes on here at the high level</span> <span data-start="988.29" data-end="991.26">is that there is a portal all that is offscreen,</span> <span data-start="991.26" data-end="994">and it renders a skeleton UI.</span> </p>
<p><span data-start="994" data-end="996.19">And when you use the site to check one item,</span> <span data-start="996.19" data-end="998.37">the main page is sending the information</span> <span data-start="998.37" data-end="1001.04">that the portal needs to complete to view,</span> <span data-start="1001.04" data-end="1003.77">and the animation is started, and hopefully,</span> <span data-start="1003.77" data-end="1005.96">by the end of which, everything is in place.</span> <span data-start="1005.96" data-end="1009.11">It's pretty —  a good user experience.</span> <span data-start="1009.11" data-end="1012.23">All right, and so this was just user — </span> <span data-start="1012.23" data-end="1013.82">expand on that [INAUDIBLE].</span> <span data-start="1013.82" data-end="1016.033">But we have partners that use that to create</span> <span data-start="1016.033" data-end="1016.95">something interesting.</span> <span data-start="1016.95" data-end="1020.848">So this one, done by Yahoo Japan PayPay [? Mall ?] team,</span> <span data-start="1020.848" data-end="1023.14">you can see it's a different zoom in/zoom out animation</span> <span data-start="1023.14" data-end="1024.19">that's very fancy.</span> </p>
</section>

<section>
<p><span data-start="1024.19" data-end="1027.38"><span class="speaker">Yusuke Utsunomiya</span>: Once the user taps on an item,</span> <span data-start="1027.38" data-end="1029.795">they are dynamic creating a Portal offscreen.</span> <span data-start="1029.795" data-end="1031.67">While the Portal loads, immediately animating</span> <span data-start="1031.67" data-end="1034.28">the existing image and showing a skeleton UI</span> <span data-start="1034.28" data-end="1036.68">of the product detail page.</span> <span data-start="1036.68" data-end="1039.41">After the portal loading completes, activate.</span> <span data-start="1039.41" data-end="1041.75">They are actually providing the same types of experience</span> <span data-start="1041.75" data-end="1043.67">in their native apps, but it's really nice</span> <span data-start="1043.67" data-end="1046.14">to see this smooth transition on the web as well.</span> <span data-start="1046.14" data-end="1047.069">So awesome.</span> <span data-start="1047.069" data-end="1049.55">Kenji, do we have room for one more UX pattern?</span> </p>
</section>

<section>
<p><span data-start="1049.55" data-end="1050.33"><span class="speaker">Kenji Baheux</span>: It's going to be tight,</span> <span data-start="1050.33" data-end="1051.663">but maybe we can give it a shot.</span> </p>
</section>

<section>
<p><span data-start="1051.663" data-end="1053.308"><span class="speaker">Yusuke Utsunomiya</span>: Cool.</span> <span data-start="1053.308" data-end="1055.85">This one it's about providing a more intuitive and faster way</span> <span data-start="1055.85" data-end="1058.94">of consuming content, and I call it speed browsing.</span> </p>
</section>

<section>
<p><span data-start="1058.94" data-end="1060.94"><span class="speaker">Kenji Baheux</span>: Wow, you have a trademark already?</span> </p>
</section>

<section>
<p><span data-start="1060.94" data-end="1062.21"><span class="speaker">Yusuke Utsunomiya</span>: Yes, I got that right.</span> <span data-start="1062.21" data-end="1064.25">Like the ones that we are showing on the slides,</span> <span data-start="1064.25" data-end="1066.09">as your user reaches the end of the page.</span> <span data-start="1066.09" data-end="1068.27">You can use Portals to pre-render the next page.</span> <span data-start="1068.27" data-end="1071">Have it peek from the bottom so that the user can drag it over</span> <span data-start="1071" data-end="1072.44">to complete the navigation.</span> <span data-start="1075.59" data-end="1078.93">In this exploration, eBay is experimenting with Portal</span> <span data-start="1078.93" data-end="1080.91">to help their customers quickly browse</span> <span data-start="1080.91" data-end="1082.448">through different products.</span> <span data-start="1082.448" data-end="1084.24">The current user experience without Portals</span> <span data-start="1084.24" data-end="1087.07">involves a lot of back-and-forth between the product detail page</span> <span data-start="1087.07" data-end="1088.5">and its search results page.</span> <span data-start="1088.5" data-end="1090">In other words, without Portals, you</span> <span data-start="1090" data-end="1092.73">end up loading and rendering a lot more things which results</span> <span data-start="1092.73" data-end="1094.17">in frustrating experience.</span> <span data-start="1097.21" data-end="1100.1">"Yahoo Japan News" built a whole new experience from scratch.</span> </p>
<p><span data-start="1100.1" data-end="1102.16">This is a stack of highly visual cards</span> <span data-start="1102.16" data-end="1105.1">that the user can swipe through, also combined with the ability</span> <span data-start="1105.1" data-end="1108.367">to seamlessly deep-dive into the article itself.</span> <span data-start="1108.367" data-end="1110.2">And all of these screens are separate pages,</span> <span data-start="1110.2" data-end="1112.84">and yet there's absolutely no loading to be seen.</span> <span data-start="1112.84" data-end="1114.827">Very smooth, great experience, and something</span> <span data-start="1114.827" data-end="1115.66">very new to the web.</span> <span data-start="1118.37" data-end="1120.26">The exciting part is "Yahoo Japan News"</span> <span data-start="1120.26" data-end="1122.515">has published the prototype as their lab experiment,</span> <span data-start="1122.515" data-end="1124.64">and you can experience their Portals implementation</span> <span data-start="1124.64" data-end="1126.93">from the link shown on the screen.</span> </p>
<p><span data-start="1126.93" data-end="1128.74">Of course, it's still in the early stage,</span> <span data-start="1128.74" data-end="1131.78">but we think this new experience has a strong value proposition</span> <span data-start="1131.78" data-end="1134.758">regarding overall UX.</span> </p>
</section>

<section>
<p><span data-start="1134.758" data-end="1136.8"><span class="speaker">Kenji Baheux</span>: All right, we also received a quote</span> <span data-start="1136.8" data-end="1138.63">from the CTO of Yahoo Japan, which</span> <span data-start="1138.63" data-end="1141.57">I'm super excited about because it does show that there</span> <span data-start="1141.57" data-end="1144.57">is a need for an API like this.</span> </p>
<p><span data-start="1144.57" data-end="1147.51">Even companies with plenty of resources and skill</span> <span data-start="1147.51" data-end="1150.3">still prefer using MPA despite all the downsides</span> <span data-start="1150.3" data-end="1151.487">we talked about.</span> <span data-start="1151.487" data-end="1153.57">And so, having Portals as part of the web platform</span> <span data-start="1153.57" data-end="1156.672">to squeeze out these expenses is super useful.</span> <span data-start="1156.672" data-end="1158.88">So yeah, so Portal will [? always ?] [? to ?] improve</span> <span data-start="1158.88" data-end="1161.72">the user expense thanks to the smooth transition between web</span> <span data-start="1161.72" data-end="1164.902">pages, even on our MPA architecture.</span> </p>
<p><span data-start="1164.902" data-end="1167.11">And the last part is the one I'm super excited about.</span> <span data-start="1167.11" data-end="1169.89">In addition, not only engineers, but also designers</span> <span data-start="1169.89" data-end="1171.85">could use Portals effectively.</span> <span data-start="1171.85" data-end="1174.09">So I really feel like Portals is a tool that</span> <span data-start="1174.09" data-end="1176.962">helped democratize seamless transitions for everyone</span> <span data-start="1176.962" data-end="1178.92">and would love to see what you can come up with</span> <span data-start="1178.92" data-end="1182.36">and your feedback on this API.</span> <span data-start="1182.36" data-end="1185.39">There is a lot more examples we could show off, but we will be,</span> <span data-start="1185.39" data-end="1187.35">definitely, running out of time.</span> <span data-start="1187.35" data-end="1189.23">So thanks to all our early partners</span> <span data-start="1189.23" data-end="1191.18">for their amazing feedback we got so far</span> <span data-start="1191.18" data-end="1193.04">and building inspiring experience.</span> <span data-start="1193.04" data-end="1193.54">Thank you.</span> <span data-start="1193.54" data-end="1196.893">[APPLAUSE]</span> </p>
</section>

<section>
<p><span data-start="1200.312" data-end="1202.02"><span class="speaker">Yusuke Utsunomiya</span>: I mean, this is great.</span> <span data-start="1202.02" data-end="1203.34">Can we wrap up our session now?</span> </p>
</section>

<section>
<p><span data-start="1203.34" data-end="1205.47"><span class="speaker">Kenji Baheux</span>: I wish, [LAUGHS] but not quite.</span> <span data-start="1205.47" data-end="1206.97">As you've seen, is true that you can</span> <span data-start="1206.97" data-end="1209.46">use Portal to build very compelling user experience.</span> <span data-start="1209.46" data-end="1210.63">But is it really enough?</span> </p>
</section>

<section>
<p><span data-start="1210.63" data-end="1213.25"><span class="speaker">Yusuke Utsunomiya</span>: What do you mean by that?</span> </p>
</section>

<section>
<p><span data-start="1213.25" data-end="1214.75"><span class="speaker">Kenji Baheux</span>: The problem was merely</span> <span data-start="1214.75" data-end="1216.52">building great user expenses is that there</span> <span data-start="1216.52" data-end="1220.42">is no guarantee that your users are going to find them.</span> <span data-start="1220.42" data-end="1223.39">It takes a lot of efforts to try something new, especially</span> <span data-start="1223.39" data-end="1225.91">when you already have your own preference about how you want</span> <span data-start="1225.91" data-end="1229.32">to use your time, for instance.</span> <span data-start="1229.32" data-end="1232.04">And so what do you do in that case?</span> <span data-start="1232.04" data-end="1234.02">Well, essentially, you can do two things.</span> <span data-start="1234.02" data-end="1236.38">Number one, lower the amount of effort</span> <span data-start="1236.38" data-end="1238.45">it takes for people to try something new.</span> <span data-start="1238.45" data-end="1241.69">And number two, lower the amount of effort</span> <span data-start="1241.69" data-end="1244.09">it takes for someone to try something new.</span> <span data-start="1244.09" data-end="1246.43">Ideally, it is zero, right?</span> <span data-start="1246.43" data-end="1249.31">Let's now look at a few more proposals and ongoing efforts</span> <span data-start="1249.31" data-end="1253.09">that we have that are meant to help on this front.</span> </p>
<p><span data-start="1253.09" data-end="1255.38">All right, so first, let's start with a way</span> <span data-start="1255.38" data-end="1258.04">to make an initial navigation instant.</span> <span data-start="1258.04" data-end="1259.79">Use case —  what if, by the time you</span> <span data-start="1259.79" data-end="1262.04">went on your Japanese commute, you already</span> <span data-start="1262.04" data-end="1264.65">have a whole bunch of content available on your device?</span> </p>
<p><span data-start="1264.65" data-end="1266.57">I think people talked about it just before.</span> </p>
</section>

<section>
<p><span data-start="1266.57" data-end="1268.153"><span class="speaker">Yusuke Utsunomiya</span>: Yeah, that actually</span> <span data-start="1268.153" data-end="1269.352">solves most of my problems.</span> </p>
</section>

<section>
<p><span data-start="1269.352" data-end="1270.31"><span class="speaker">Kenji Baheux</span>: Yeah, OK.</span> <span data-start="1270.31" data-end="1272.81">So good news is there is this new API called</span> <span data-start="1272.81" data-end="1277.79">Periodic Background Sync, which is meant to solve that issue.</span> <span data-start="1277.79" data-end="1279.29">And so not only would the experience</span> <span data-start="1279.29" data-end="1282.13">be instant, but it will also be available — </span> <span data-start="1282.13" data-end="1284.45">like connection doesn't really matter anymore,</span> <span data-start="1284.45" data-end="1286.5">because it's already on the device.</span> <span data-start="1286.5" data-end="1289.56">So let's see what this could mean in practice.</span> <span data-start="1289.56" data-end="1291.92">So this is an exploration done by Gaana</span> <span data-start="1291.92" data-end="1295.52">by Tencent [? Internet. ?] Gaana is the largest music streaming</span> <span data-start="1295.52" data-end="1297">service in India.</span> <span data-start="1297" data-end="1300.68">What's interesting here is that India is a challenging market,</span> <span data-start="1300.68" data-end="1304.11">in particular because data has become a lot more affordable,</span> <span data-start="1304.11" data-end="1306.54">the infrastructure has trouble to keep up with the demand.</span> </p>
<p><span data-start="1306.54" data-end="1308.3">And so depending on the time of the day,</span> <span data-start="1308.3" data-end="1310.72">you can end up on a very slow connection.</span> <span data-start="1310.72" data-end="1314.345">And so Gaana wants to use PBS to smooth out the experience — </span> <span data-start="1314.345" data-end="1316.16">so it can fetch content ahead of time</span> <span data-start="1316.16" data-end="1318.338">so that they don't have to worry about hitting</span> <span data-start="1318.338" data-end="1319.63">bad connection through the day.</span> <span data-start="1322.27" data-end="1324.66">This is another example, from Hatena.</span> <span data-start="1324.66" data-end="1327.235">They want to use Periodic Background Sync to proactively</span> <span data-start="1327.235" data-end="1329.88">prefetch the latest edition of a user's</span> <span data-start="1329.88" data-end="1332.04">favorite manga or magazines.</span> <span data-start="1332.04" data-end="1336.32">And these can be very large, like 100 megs at a time.</span> <span data-start="1336.32" data-end="1338.07">The other thing that's important to know — </span> <span data-start="1338.07" data-end="1340.112">and maybe that's a surprise for a lot of people — </span> <span data-start="1340.112" data-end="1343.72">is that in Japan, more than half of the subscribers only have</span> <span data-start="1343.72" data-end="1345.3">three gigabyte of storage — </span> <span data-start="1345.3" data-end="1347.58">sorry, of data —  per month.</span> </p>
<p><span data-start="1347.58" data-end="1349.69">After that, they get throttled to 2G, which</span> <span data-start="1349.69" data-end="1350.94">is a very bad user experience.</span> <span data-start="1350.94" data-end="1351.87">I've been there.</span> <span data-start="1351.87" data-end="1353.08">You've been there too, right?</span> </p>
</section>

<section>
<p><span data-start="1353.08" data-end="1353.51"><span class="speaker">Yusuke Utsunomiya</span>: Yeah, yeah.</span> <span data-start="1353.51" data-end="1354.5">For about three years, yeah.</span> </p>
</section>

<section>
<p><span data-start="1354.5" data-end="1355.292"><span class="speaker">Kenji Baheux</span>: Yeah.</span> <span data-start="1355.292" data-end="1357.21">[LAUGHS] And so the idea is that you</span> <span data-start="1357.21" data-end="1360.37">can use PBS when you are at home on Wi-Fi to download</span> <span data-start="1360.37" data-end="1363.33">this heavy content so that when you're on the commute,</span> <span data-start="1363.33" data-end="1364.308">everything is there.</span> </p>
<p><span data-start="1364.308" data-end="1365.1">Isn't that amazing?</span> </p>
</section>

<section>
<p><span data-start="1365.1" data-end="1366.12"><span class="speaker">Yusuke Utsunomiya</span>: Yeah, this is exactly</span> <span data-start="1366.12" data-end="1368.44">the feature I wanted I mean, I love manga,</span> <span data-start="1368.44" data-end="1370.908">and it'll be great times —  like, to kill my commute time.</span> </p>
</section>

<section>
<p><span data-start="1370.908" data-end="1373.575"><span class="speaker">Kenji Baheux</span>: All right, can you run us through the API, Yusuke?</span> </p>
</section>

<section>
<p><span data-start="1373.575" data-end="1375.24"><span class="speaker">Yusuke Utsunomiya</span>: Sure, definitely.</span> <span data-start="1375.24" data-end="1377.1">With PBS, you'll be able to register a sync</span> <span data-start="1377.1" data-end="1378.42">event for your service worker.</span> <span data-start="1378.42" data-end="1380.26">You can satisfy your own tag name</span> <span data-start="1380.26" data-end="1381.777">and just, like, the background sync.</span> <span data-start="1381.777" data-end="1383.61">In this case, the sample code is registering</span> <span data-start="1383.61" data-end="1388">sync-amazing-cats event, which is very nice.</span> <span data-start="1388" data-end="1390.69">And here's also —  there's also a minInterval option where</span> <span data-start="1390.69" data-end="1393.33">we can define a minimum duration between each of the syncs.</span> <span data-start="1396.29" data-end="1398">And once the event is registered,</span> <span data-start="1398" data-end="1400.773">the browser will regularly fire periodic sync events</span> <span data-start="1400.773" data-end="1401.69">at the service worker.</span> </p>
<p><span data-start="1404.42" data-end="1408.1">You could then run your own logic to sync [INAUDIBLE] —  — </span> <span data-start="1408.1" data-end="1409.752">oh something went wrong? — </span> <span data-start="1409.752" data-end="1411.71">such as the web resource and the guest storage,</span> <span data-start="1411.71" data-end="1413.485">or application settings in your IndexDB.</span> </p>
<p><span data-start="1416.27" data-end="1418.19">Taking a minInterval option into account,</span> <span data-start="1418.19" data-end="1419.9">the frequency of the sync event depends</span> <span data-start="1419.9" data-end="1423.38">on how frequently the user engages with your website.</span> <span data-start="1423.38" data-end="1426.95">In Chrome, we are reserving PBS for installed apps, a.k.a.</span> <span data-start="1426.95" data-end="1428.81">installed PWAs.</span> </p>
<p><span data-start="1428.81" data-end="1430.37">When the event triggers, please be</span> <span data-start="1430.37" data-end="1432.62">mindful of the user environment —  for example,</span> <span data-start="1432.62" data-end="1434.84">storage and data saving options.</span> <span data-start="1434.84" data-end="1437.42">Some APIs that might help you understand if it's a good time</span> <span data-start="1437.42" data-end="1440.03">to run the sync logic is navigator.connection.saveData</span> <span data-start="1440.03" data-end="1442.04">to see if it's in a data saving mode,</span> <span data-start="1442.04" data-end="1444.89">and storage API to estimate the available storage.</span> </p>
<p><span data-start="1444.89" data-end="1448.468">Cool, so we now have a way to download podcasts ahead of time</span> <span data-start="1448.468" data-end="1450.51">and also make the transition smooth with Portals.</span> <span data-start="1450.51" data-end="1452.57">Kenji, I think we're good for today.</span> </p>
</section>

<section>
<p><span data-start="1452.57" data-end="1453.945"><span class="speaker">Kenji Baheux</span>: You know me, right?</span> <span data-start="1453.945" data-end="1455.23">I always want more.</span> <span data-start="1455.23" data-end="1456.95">So we're not quite done, right?</span> <span data-start="1456.95" data-end="1460.37">I think it's great that we can have this website practically</span> <span data-start="1460.37" data-end="1462.29">fetch content ahead of time and deliver it</span> <span data-start="1462.29" data-end="1465.36">like an instant-available, great user expense.</span> <span data-start="1465.36" data-end="1468.22">But there is something missing.</span> <span data-start="1468.22" data-end="1470.02">The problem is that if all of that work</span> <span data-start="1470.02" data-end="1472.87">is done and no one noticed, what's the point, right?</span> <span data-start="1472.87" data-end="1475.04">It's actually wasteful.</span> <span data-start="1475.04" data-end="1478.76">But to me, this feels like a discovery opportunity.</span> <span data-start="1478.76" data-end="1482.09">And so we do understand that building great user experience</span> <span data-start="1482.09" data-end="1483.51">takes a lot of effort.</span> </p>
<p><span data-start="1483.51" data-end="1486.08">And so we've been thinking of ways to reward that effort.</span> <span data-start="1486.08" data-end="1488">In particular, we think we can help</span> <span data-start="1488" data-end="1492.23">you reengage with your users or find new users.</span> <span data-start="1492.23" data-end="1495.11">And so more concretely, this is like early exploration,</span> <span data-start="1495.11" data-end="1497.51">but what you're looking at right now</span> <span data-start="1497.51" data-end="1500.18">are ways for us to surface content that's</span> <span data-start="1500.18" data-end="1503.57">available on the device in the Chrome downloads page,</span> <span data-start="1503.57" data-end="1505.92">and also into Chrome New Tab page.</span> <span data-start="1505.92" data-end="1507.98">So we're [INAUDIBLE] with that, but that's</span> <span data-start="1507.98" data-end="1509.84">one of the ways in which we want to help</span> <span data-start="1509.84" data-end="1513.17">user identify that something interesting on their device.</span> </p>
<p><span data-start="1513.17" data-end="1515.43">But to make this work, we need your help, right?</span> <span data-start="1515.43" data-end="1517.55">Only you what's available on the device</span> <span data-start="1517.55" data-end="1519.317">and how to best present it.</span> <span data-start="1519.317" data-end="1521.9">And so the good news is there is a [? nerdy ?] proposal called</span> <span data-start="1521.9" data-end="1523.59">content indexing.</span> </p>
<p><span data-start="1523.59" data-end="1526.68">And so Yusuke is go to help me to explain how that works.</span> </p>
</section>

<section>
<p><span data-start="1526.68" data-end="1528.05"><span class="speaker">Yusuke Utsunomiya</span>: Sure.</span> <span data-start="1528.05" data-end="1530.18">So the prerequisite for using a content indexing</span> <span data-start="1530.18" data-end="1533.6">API is to ensure that you are your web app uses a service</span> <span data-start="1533.6" data-end="1536.66">worker and that at least a subset of your URLs</span> <span data-start="1536.66" data-end="1539">can be navigated to while offline.</span> <span data-start="1539" data-end="1541.64">And please don't get it confused —  content indexing API</span> <span data-start="1541.64" data-end="1543.02">is not a new storage mechanism.</span> <span data-start="1543.02" data-end="1545.91">You can keep on using a test source for that.</span> <span data-start="1545.91" data-end="1547.49">It's a simple way of indexing content</span> <span data-start="1547.49" data-end="1551.41">that is available on the device.</span> </p>
<p><span data-start="1551.41" data-end="1553.71">Let's look into the basics.</span> <span data-start="1553.71" data-end="1555.87">You can add URLs and associated metadata</span> <span data-start="1555.87" data-end="1558.63">to the index with the newly-exposed index.add</span> <span data-start="1558.63" data-end="1563.52">function in the service worker registration interface.</span> <span data-start="1563.52" data-end="1568.8">For details, you need to add a unique ID.</span> <span data-start="1568.8" data-end="1573.863">and the launch URL, which has to work offline,</span> <span data-start="1573.863" data-end="1575.78">and some other metadata, which the browser can</span> <span data-start="1575.78" data-end="1579.47">use to show a list of readily available content to the user.</span> </p>
<p><span data-start="1579.47" data-end="1582.53">You might want to provide a Save for Later button to save</span> <span data-start="1582.53" data-end="1585.02">and index a piece of content, or you</span> <span data-start="1585.02" data-end="1587.23">might want to add the contents automatically</span> <span data-start="1587.23" data-end="1589.07">when a periodic background sync event fires.</span> <span data-start="1592.07" data-end="1594.61">In addition, the API provides ways to list and delete</span> <span data-start="1594.61" data-end="1597.17">the entries in the index so that it can keep the index up</span> <span data-start="1597.17" data-end="1598.31">to date.</span> <span data-start="1598.31" data-end="1600.65">The API will be available as an Origin trial</span> <span data-start="1600.65" data-end="1603.53">soon from Chrome 80, and we are waiting for your feedback.</span> </p>
</section>

<section>
<p><span data-start="1606.15" data-end="1608.527"><span class="speaker">Kenji Baheux</span>: All right, having a collection of content</span> <span data-start="1608.527" data-end="1610.36">ready to go is quite convenient, but I think</span> <span data-start="1610.36" data-end="1612.035">we can take it a lot further — </span> <span data-start="1612.035" data-end="1614.685">hopefully, In those three minutes that we have left.</span> <span data-start="1614.685" data-end="1616.31">So what if we could have, for instance,</span> <span data-start="1616.31" data-end="1618.13">a self-contained piece of content</span> <span data-start="1618.13" data-end="1620.65">or apps that we could share and distribute,</span> <span data-start="1620.65" data-end="1622.57">instead of just having links?</span> <span data-start="1622.57" data-end="1626.08">This will allow your user to find, like, or discover, opt</span> <span data-start="1626.08" data-end="1629.38">in, or enjoy like content in so many interesting ways.</span> <span data-start="1631.845" data-end="1634.22">So for a self-contained piece of content or app to exist,</span> <span data-start="1634.22" data-end="1636.68">there needs to be a way to package all the resources</span> <span data-start="1636.68" data-end="1640.583">that thing needs in a convenient and distributable format.</span> </p>
</section>

<section>
<p><span data-start="1640.583" data-end="1642.75"><span class="speaker">Yusuke Utsunomiya</span>: With the help from the community,</span> <span data-start="1642.75" data-end="1644.792">we've been working on specifying and implementing</span> <span data-start="1644.792" data-end="1646.58">such a format for a long time.</span> <span data-start="1646.58" data-end="1649.587">We have been using the term, bundled HTTP exchanges.</span> </p>
</section>

<section>
<p><span data-start="1649.587" data-end="1651.17"><span class="speaker">Kenji Baheux</span>: That's quite a mouthful.</span> </p>
</section>

<section>
<p><span data-start="1651.17" data-end="1654.02"><span class="speaker">Yusuke Utsunomiya</span>: Honestly, [? http ?] speaking, yes.</span> <span data-start="1654.02" data-end="1656.088">So we decided to name it Web Bundle.</span> </p>
</section>

<section>
<p><span data-start="1656.088" data-end="1657.38"><span class="speaker">Kenji Baheux</span>: That's very nice.</span> <span data-start="1657.38" data-end="1659.218">I like it.</span> </p>
</section>

<section>
<p><span data-start="1659.218" data-end="1661.01"><span class="speaker">Yusuke Utsunomiya</span>: As the new name implies,</span> <span data-start="1661.01" data-end="1662.6">it's designed for the web, and allows</span> <span data-start="1662.6" data-end="1666.02">you to bundle any resources into one convenient file, which</span> <span data-start="1666.02" data-end="1667.88">you can serve over the wire or even share</span> <span data-start="1667.88" data-end="1669.22">with any peer-to-peer protocol.</span> </p>
</section>

<section>
<p><span data-start="1669.22" data-end="1670.97"><span class="speaker">Kenji Baheux</span>: That's sounds like some sort</span> <span data-start="1670.97" data-end="1672.68">of zip archive for the web.</span> </p>
</section>

<section>
<p><span data-start="1672.68" data-end="1674.888"><span class="speaker">Yusuke Utsunomiya</span>: That's actually one way to see it.</span> <span data-start="1674.888" data-end="1677.38">Let's see what we have for so far.</span> <span data-start="1677.38" data-end="1680.5">We have we now have a CLI to easily build a bundle.</span> <span data-start="1680.5" data-end="1683.16">Since it's a bundle, since it's built with Golang,</span> <span data-start="1683.16" data-end="1685.035">you would want to use go get to first install</span> <span data-start="1685.035" data-end="1686.35">the command like tools.</span> <span data-start="1686.35" data-end="1688.9">The command gem bundle gives you many ways</span> <span data-start="1688.9" data-end="1690.88">to bundle up web resources, but I personally</span> <span data-start="1690.88" data-end="1694.54">feel the -har option is really convenient because it just</span> <span data-start="1694.54" data-end="1696.79">takes the HAR files and input to produce a web bundle.</span> <span data-start="1696.79" data-end="1697.457">It's super easy.</span> </p>
<p><span data-start="1700.185" data-end="1702.31">We are also exploring the JavaScript implementation</span> <span data-start="1702.31" data-end="1703.528">for web bundles as well.</span> <span data-start="1703.528" data-end="1705.07">We just released the very first draft</span> <span data-start="1705.07" data-end="1710.31">an npm module called [? wbn. ?] We</span> <span data-start="1710.31" data-end="1712.53">are still in the middle of brushing up the library.</span> <span data-start="1712.53" data-end="1715.35">We hope that you will be able to integrate this module into your</span> <span data-start="1715.35" data-end="1717.658">build pipelines so that you could easily bundle up</span> <span data-start="1717.658" data-end="1718.2">your content.</span> </p>
</section>

<section>
<p><span data-start="1720.585" data-end="1722.96"><span class="speaker">Kenji Baheux</span>: All right, as I said, a distribution format</span> <span data-start="1722.96" data-end="1724.82">enables interesting use case.</span> <span data-start="1724.82" data-end="1727.94">In this example, you can see that I can share with a friend</span> <span data-start="1727.94" data-end="1730.55">this amazing game called [? "Prox," ?] which I having</span> <span data-start="1730.55" data-end="1732.14">in Web Bundle format.</span> </p>
<p><span data-start="1732.14" data-end="1734.21">And the thing is, I can do that without internet.</span> <span data-start="1734.21" data-end="1736.4">I just need to use a file transfer app,</span> <span data-start="1736.4" data-end="1737.25">and it just works.</span> <span data-start="1737.25" data-end="1739.31">I can share with my friend without any internet.</span> <span data-start="1739.31" data-end="1741.72">I can be on a plane, [INAUDIBLE] somewhere,</span> <span data-start="1741.72" data-end="1743.97">or even like [? Jack ?] [? Archibald's ?] famous Wi-Fi</span> <span data-start="1743.97" data-end="1745.64">[? toilet, ?] if you know what I mean.</span> <span data-start="1745.64" data-end="1747.55">It just works.</span> <span data-start="1747.55" data-end="1749.8">One more use case I'm excited about is faster already.</span> </p>
</section>

<section>
<p><span data-start="1749.8" data-end="1750.88"><span class="speaker">Yusuke Utsunomiya</span>: Oh, Kenji, you are so much</span> <span data-start="1750.88" data-end="1752.005">obsessed with fast loading.</span> </p>
</section>

<section>
<p><span data-start="1752.005" data-end="1753.34"><span class="speaker">Kenji Baheux</span>: I know, I know.</span> <span data-start="1753.34" data-end="1756.19">So the trick is, because everything is on the device,</span> <span data-start="1756.19" data-end="1759.292">a Web Bundle will offer a much faster user experience.</span> <span data-start="1759.292" data-end="1760">Let's do a match.</span> <span data-start="1760" data-end="1761.375">On the left, you have Web Bundle,</span> <span data-start="1761.375" data-end="1765.21">all on the right, you have [? WebWeb. ?] Ready, fight.</span> <span data-start="1765.21" data-end="1769.05">And see, [INAUDIBLE].</span> <span data-start="1769.05" data-end="1770.55">I mean, there is no picture, right?</span> </p>
<p><span data-start="1770.55" data-end="1772.92">It's like Web Bundle wins — </span> <span data-start="1772.92" data-end="1774.685">amazing.</span> </p>
</section>

<section>
<p><span data-start="1774.685" data-end="1776.31"><span class="speaker">Yusuke Utsunomiya</span>: Just like Kenji, I'm</span> <span data-start="1776.31" data-end="1778.268">very excited about this feature, but you really</span> <span data-start="1778.268" data-end="1779.4">have to try it yourself.</span> <span data-start="1779.4" data-end="1781.74">The good news is that we added this USB Type</span> <span data-start="1781.74" data-end="1783.75">D —  yes, type Dino —  in your strap bag,</span> <span data-start="1783.75" data-end="1786.493">and it contains sample web bundles and instructions.</span> <span data-start="1786.493" data-end="1788.91">You can play around with the full feature of [? "Prox," ?]</span> <span data-start="1788.91" data-end="1791.225">[INAUDIBLE] and [INAUDIBLE]. wherever you are,</span> <span data-start="1791.225" data-end="1792.6">no matter your network condition,</span> <span data-start="1792.6" data-end="1796.483">or even on your flight back to your hometown after CDS.</span> </p>
</section>

<section>
<p><span data-start="1796.483" data-end="1797.9"><span class="speaker">Kenji Baheux</span>: All right, to close,</span> <span data-start="1797.9" data-end="1800.1">we've talked about four APIs today.</span> <span data-start="1800.1" data-end="1803.01">The first one —  Portal, which is designed to enable instant</span> <span data-start="1803.01" data-end="1804.48">and seamless navigation.</span> <span data-start="1804.48" data-end="1806.03">This is going to be available soon</span> <span data-start="1806.03" data-end="1808.91">in an Origin trial for the same Origin use case,</span> <span data-start="1808.91" data-end="1810.41">and we are seeing tremendous support</span> <span data-start="1810.41" data-end="1811.663">from the web developers.</span> </p>
<p><span data-start="1811.663" data-end="1813.08">Your interesting feedback is going</span> <span data-start="1813.08" data-end="1815.33">to help us engage with other browser vendors,</span> <span data-start="1815.33" data-end="1817.71">because so far, we've got no signals from them.</span> <span data-start="1817.71" data-end="1819.58">So it's going to be useful.</span> <span data-start="1819.58" data-end="1820.783">All right, next one.</span> </p>
<p><span data-start="1820.783" data-end="1822.2">Periodic background sync —  this is</span> <span data-start="1822.2" data-end="1825.53">designed to get content ahead of time on the device</span> <span data-start="1825.53" data-end="1828.15">so that you don't have to worry about connection.</span> <span data-start="1828.15" data-end="1830.368">This is already available in an Origin trial.</span> <span data-start="1830.368" data-end="1832.16">We have great interest from web developers,</span> <span data-start="1832.16" data-end="1836.03">and there is some work to do with other browser vendors.</span> </p>
<p><span data-start="1836.03" data-end="1838.28">Content indexing —  this one is about surfacing</span> <span data-start="1838.28" data-end="1840.59">the content that's available on the device,</span> <span data-start="1840.59" data-end="1843.83">and it's going to be available in an Origin trial soon.</span> <span data-start="1843.83" data-end="1844.71">This is brand new.</span> <span data-start="1844.71" data-end="1845.752">We want to hear from you.</span> <span data-start="1845.752" data-end="1846.97">So please try it out.</span> <span data-start="1846.97" data-end="1849.72">Let's let us know if it works for you or not.</span> <span data-start="1849.72" data-end="1852.02">And last but not least, Web Bundles.</span> </p>
<p><span data-start="1852.02" data-end="1854.09">So this is a convenient format to enable</span> <span data-start="1854.09" data-end="1855.77">discovery and distribution.</span> <span data-start="1855.77" data-end="1856.73">This is bleeding-edge.</span> <span data-start="1856.73" data-end="1859.73">It's only available behind an experimental flag.</span> <span data-start="1859.73" data-end="1861.95">There is some early interest from web developers,</span> <span data-start="1861.95" data-end="1863.99">and some of the other [? broader ?] vendors</span> <span data-start="1863.99" data-end="1864.9">are a bit concerned.</span> <span data-start="1864.9" data-end="1866.837">But that tends to be for a set of use cases</span> <span data-start="1866.837" data-end="1868.17">that we didn't talk about today.</span> </p>
<p><span data-start="1868.17" data-end="1871.95">If you want to learn more, come to talk to me later.</span> </p>
</section>

<section>
<p><span data-start="1871.95" data-end="1872.95"><span class="speaker">Yusuke Utsunomiya</span>: Cool.</span> <span data-start="1872.95" data-end="1874.15">Finally, we've made it to the end.</span> </p>
</section>

<section>
<p><span data-start="1874.15" data-end="1874.67"><span class="speaker">Kenji Baheux</span>: Yeah.</span> </p>
</section>

<section>
<p><span data-start="1874.67" data-end="1875.72"><span class="speaker">Yusuke Utsunomiya</span>: Thank you so much for listening,</span> <span data-start="1875.72" data-end="1877.95">and I hope you're excited by these new APIs.</span> <span data-start="1877.95" data-end="1878.45">Kenji?</span> <span data-start="1878.45" data-end="1878.68">[APPLAUSE]</span> </p>
</section>

<section>
<p><span data-start="1878.68" data-end="1879.25"><span class="speaker">Kenji Baheux</span>: Thank you all.</span> <span data-start="1879.25" data-end="1881.458">Please check this link for more details and pointers.</span> <span data-start="1881.458" data-end="1884.6">[MUSIC PLAYING]</span> </p>
</section>